=== Go AI Agent服务启动成功，端口：8080 ===
[GIN] 2025/12/21 - 22:21:56 | 200 |     568.089µs |             ::1 | POST     "/agent/save-prefer"
[GIN] 2025/12/21 - 22:22:19 | 200 |  479.043457ms |             ::1 | POST     "/agent/chat"
panic: '/' in new path '/' conflicts with existing wildcard '/*filepath' in existing prefix '/*filepath'

goroutine 1 [running]:
github.com/gin-gonic/gin.(*node).addRoute(0xf32ea5?, {0xc00001321d, 0x1}, {0xc0002b81c0, 0x4, 0x4})
	/home/wuhao/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/tree.go:240 +0xb6a
github.com/gin-gonic/gin.(*Engine).addRoute(0xc0000edd40, {0xf32ea5, 0x3}, {0xc00001321d, 0x1}, {0xc0002b81c0, 0x4, 0x4})
	/home/wuhao/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/gin.go:367 +0x252
github.com/gin-gonic/gin.(*RouterGroup).handle(0xc0000edd40, {0xf32ea5, 0x3}, {0x10f5e58?, 0x41b525?}, {0xc000088650, 0x1, 0xc000034e01?})
	/home/wuhao/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/routergroup.go:89 +0x13e
github.com/gin-gonic/gin.(*RouterGroup).GET(...)
	/home/wuhao/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/routergroup.go:117
github.com/gin-gonic/gin.(*RouterGroup).staticFileHandler(0xc0000edd40, {0x10f5e58, 0x1}, 0xc000010be8)
	/home/wuhao/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/routergroup.go:185 +0xc6
github.com/gin-gonic/gin.(*RouterGroup).StaticFile(...)
	/home/wuhao/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/routergroup.go:167
main.main()
	/home/wuhao/work/aiagent/agent.go:188 +0x1f7
panic: '/' in new path '/' conflicts with existing wildcard '/*filepath' in existing prefix '/*filepath'

goroutine 1 [running]:
github.com/gin-gonic/gin.(*node).addRoute(0xf32ea5?, {0xc00011b14d, 0x1}, {0xc00024e1a0, 0x4, 0x4})
	/home/wuhao/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/tree.go:240 +0xb6a
github.com/gin-gonic/gin.(*Engine).addRoute(0xc000159d40, {0xf32ea5, 0x3}, {0xc00011b14d, 0x1}, {0xc00024e1a0, 0x4, 0x4})
	/home/wuhao/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/gin.go:367 +0x252
github.com/gin-gonic/gin.(*RouterGroup).handle(0xc000159d40, {0xf32ea5, 0x3}, {0x10f5e58?, 0x41b525?}, {0xc00011c648, 0x1, 0xc000124e01?})
	/home/wuhao/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/routergroup.go:89 +0x13e
github.com/gin-gonic/gin.(*RouterGroup).GET(...)
	/home/wuhao/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/routergroup.go:117
github.com/gin-gonic/gin.(*RouterGroup).staticFileHandler(0xc000159d40, {0x10f5e58, 0x1}, 0xc00011ebd0)
	/home/wuhao/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/routergroup.go:185 +0xc6
github.com/gin-gonic/gin.(*RouterGroup).StaticFile(...)
	/home/wuhao/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/routergroup.go:167
main.main()
	/home/wuhao/work/aiagent/agent.go:188 +0x1f7
panic: '/' in new path '/' conflicts with existing wildcard '/*filepath' in existing prefix '/*filepath'

goroutine 1 [running]:
github.com/gin-gonic/gin.(*node).addRoute(0xf32ea5?, {0xc00001321d, 0x1}, {0xc00023a1c0, 0x4, 0x4})
	/home/wuhao/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/tree.go:240 +0xb6a
github.com/gin-gonic/gin.(*Engine).addRoute(0xc0000edd40, {0xf32ea5, 0x3}, {0xc00001321d, 0x1}, {0xc00023a1c0, 0x4, 0x4})
	/home/wuhao/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/gin.go:367 +0x252
github.com/gin-gonic/gin.(*RouterGroup).handle(0xc0000edd40, {0xf32ea5, 0x3}, {0x10f5e58?, 0x41b525?}, {0xc000088650, 0x1, 0xc000034e01?})
	/home/wuhao/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/routergroup.go:89 +0x13e
github.com/gin-gonic/gin.(*RouterGroup).GET(...)
	/home/wuhao/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/routergroup.go:117
github.com/gin-gonic/gin.(*RouterGroup).staticFileHandler(0xc0000edd40, {0x10f5e58, 0x1}, 0xc000010be8)
	/home/wuhao/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/routergroup.go:185 +0xc6
github.com/gin-gonic/gin.(*RouterGroup).StaticFile(...)
	/home/wuhao/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/routergroup.go:167
main.main()
	/home/wuhao/work/aiagent/agent.go:188 +0x1f7
=== Go AI Agent服务启动成功 ===
Web页面访问地址：http://本机IP:8080 或 http://localhost:8080
[GIN] 2025/12/21 - 23:16:53 | 200 |   62.333784ms |       127.0.0.1 | GET      "/"
[GIN] 2025/12/21 - 23:16:53 | 404 |       2.925µs |       127.0.0.1 | GET      "/favicon.ico"
[GIN] 2025/12/21 - 23:17:25 | 200 |      98.556µs |             ::1 | GET      "/"
[GIN] 2025/12/21 - 23:17:25 | 404 |      19.777µs |             ::1 | GET      "/favicon.ico"
[GIN] 2025/12/21 - 23:17:32 | 200 |  382.025381ms |             ::1 | POST     "/agent/chat"
[GIN] 2025/12/21 - 23:18:25 | 304 |      45.836µs |             ::1 | GET      "/"
panic: handlers are already registered for path '/'

goroutine 1 [running]:
github.com/gin-gonic/gin.(*node).addRoute(0xf32ea5?, {0xc0000131e0, 0x1}, {0xc00023a1a0, 0x4, 0x4})
	/home/wuhao/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/tree.go:253 +0x6eb
github.com/gin-gonic/gin.(*Engine).addRoute(0xc0000edd40, {0xf32ea5, 0x3}, {0xc0000131e0, 0x1}, {0xc00023a1a0, 0x4, 0x4})
	/home/wuhao/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/gin.go:367 +0x252
github.com/gin-gonic/gin.(*RouterGroup).handle(0xc0000edd40, {0xf32ea5, 0x3}, {0x10f5eb8?, 0x0?}, {0xc000088628, 0x1, 0x2?})
	/home/wuhao/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/routergroup.go:89 +0x13e
github.com/gin-gonic/gin.(*RouterGroup).GET(...)
	/home/wuhao/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/routergroup.go:117
main.main()
	/home/wuhao/work/aiagent/agent.go:189 +0x225
panic: handlers are already registered for path '/'

goroutine 1 [running]:
github.com/gin-gonic/gin.(*node).addRoute(0xf32ea5?, {0xc0000131e0, 0x1}, {0xc00023a1a0, 0x4, 0x4})
	/home/wuhao/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/tree.go:253 +0x6eb
github.com/gin-gonic/gin.(*Engine).addRoute(0xc0000edd40, {0xf32ea5, 0x3}, {0xc0000131e0, 0x1}, {0xc00023a1a0, 0x4, 0x4})
	/home/wuhao/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/gin.go:367 +0x252
github.com/gin-gonic/gin.(*RouterGroup).handle(0xc0000edd40, {0xf32ea5, 0x3}, {0x10f5eb8?, 0x0?}, {0xc000088628, 0x1, 0x2?})
	/home/wuhao/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/routergroup.go:89 +0x13e
github.com/gin-gonic/gin.(*RouterGroup).GET(...)
	/home/wuhao/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/routergroup.go:117
main.main()
	/home/wuhao/work/aiagent/agent.go:189 +0x225
=== Go AI Agent服务启动成功 ===
Web页面访问地址：http://本机IP:8080 或 http://localhost:8080
[GIN] 2025/12/21 - 23:23:11 | 200 |   439.40279ms |             ::1 | POST     "/agent/chat"
[GIN] 2025/12/21 - 23:23:15 | 304 |     102.943µs |             ::1 | GET      "/"
[GIN] 2025/12/21 - 23:24:55 | 200 |    3.487317ms |             ::1 | GET      "/"
[GIN] 2025/12/21 - 23:27:02 | 200 |     150.041µs |             ::1 | GET      "/"
[GIN] 2025/12/21 - 23:30:07 | 200 |     176.882µs |             ::1 | GET      "/"
[GIN] 2025/12/21 - 23:30:11 | 200 |  331.083911ms |             ::1 | POST     "/agent/chat"
[GIN] 2025/12/21 - 23:30:18 | 200 |  321.215389ms |             ::1 | POST     "/agent/chat"
=== Go AI Agent服务启动成功 ===
Web页面访问地址：http://本机IP:8080 或 http://localhost:8080
HTTPS服务启动：https://127.0.0.1:8443
2025/12/21 23:44:29 http: TLS handshake error from [::1]:36306: local error: tls: bad record MAC
2025/12/21 23:45:15 http: TLS handshake error from 127.0.0.1:33642: tls: client offered only unsupported versions: []
[GIN] 2025/12/21 - 23:46:02 | 404 |       2.424µs | 120.245.130.121 | GET      "/favicon.ico"
[GIN] 2025/12/21 - 23:46:12 | 200 |    2.826144ms | 120.245.130.121 | GET      "/"
[GIN] 2025/12/21 - 23:46:17 | 200 |  377.380974ms | 120.245.130.121 | POST     "/agent/chat"
[GIN] 2025/12/21 - 23:49:26 | 200 |     469.862µs | 120.245.130.121 | GET      "/"
[GIN] 2025/12/21 - 23:49:26 | 404 |       1.683µs | 120.245.130.121 | GET      "/favicon.ico"
[GIN] 2025/12/21 - 23:49:30 | 200 |  351.420423ms | 120.245.130.121 | POST     "/agent/chat"
[GIN] 2025/12/21 - 23:51:38 | 200 |  318.863107ms | 120.245.130.121 | POST     "/agent/chat"
[GIN] 2025/12/21 - 23:52:28 | 200 |  333.736261ms | 120.245.130.121 | POST     "/agent/chat"
[GIN] 2025/12/21 - 23:52:40 | 200 |  305.641386ms | 120.245.130.121 | POST     "/agent/chat"
[GIN] 2025/12/21 - 23:52:54 | 200 |  350.676819ms | 120.245.130.121 | POST     "/agent/chat"
[GIN] 2025/12/21 - 23:53:06 | 200 |  408.433434ms | 120.245.130.121 | POST     "/agent/chat"
=== Go AI Agent服务启动成功 ===
Web页面访问地址：http://本机IP:8080 或 http://localhost:8080
HTTPS服务启动：https://127.0.0.1:8443
[GIN] 2025/12/22 - 00:27:50 | 200 |    4.109795ms | 120.245.130.121 | GET      "/"
用户[user123]输入的关键字：推荐一款适合我的饮品
[GIN] 2025/12/22 - 00:27:53 | 200 |  584.724334ms | 120.245.130.121 | POST     "/agent/chat"
用户[user123]输入的关键字：我喜欢钓鱼
[GIN] 2025/12/22 - 00:28:03 | 200 |  369.778616ms | 120.245.130.121 | POST     "/agent/chat"
用户[user123]输入的关键字：我喜欢什么
[GIN] 2025/12/22 - 00:28:09 | 200 |  338.374503ms | 120.245.130.121 | POST     "/agent/chat"
用户[user123]输入的关键字：我喜欢你
[GIN] 2025/12/22 - 00:32:32 | 200 |   387.52482ms | 120.245.130.121 | POST     "/agent/chat"
用户[user123]输入的关键字：今天天气真好
[GIN] 2025/12/22 - 00:32:47 | 200 |  301.482055ms | 120.245.130.121 | POST     "/agent/chat"
用户[user123]输入的关键字：今天天气真好
[GIN] 2025/12/22 - 00:34:41 | 200 |  327.738848ms | 120.245.130.121 | POST     "/agent/chat"
=== Go AI Agent服务启动成功 ===
Web页面访问地址：http://本机IP:8080 或 http://localhost:8080
HTTPS服务启动：https://127.0.0.1:8443
[GIN] 2025/12/22 - 00:46:33 | 200 |     2.44924ms | 120.245.130.121 | GET      "/"
用户[user123]输入的关键字：推荐一款适合我的饮品
[GIN] 2025/12/22 - 00:46:35 | 200 |  376.562651ms | 120.245.130.121 | POST     "/agent/chat"
用户[user123]输入的关键字：我喜欢熊猫
[GIN] 2025/12/22 - 00:47:17 | 200 |  339.596878ms | 120.245.130.121 | POST     "/agent/chat"
用户[user123]输入的关键字：看电影
[GIN] 2025/12/22 - 00:48:01 | 200 |  471.234916ms | 120.245.130.121 | POST     "/agent/chat"
用户[user123]输入的关键字：我喜欢什么
[GIN] 2025/12/22 - 00:48:14 | 200 |  311.807828ms | 120.245.130.121 | POST     "/agent/chat"
=== Go AI Agent服务启动成功 ===
Web页面访问地址：http://本机IP:8080 或 http://localhost:8080
HTTPS服务启动：https://127.0.0.1:8443
用户[user123]输入的关键字：我喜欢什么
longMem: map[keywords:推荐一款适合我的饮品，看电影，我喜欢什么，我喜欢熊猫]
prompt: 
	你是一个极简AI Agent，结合以下信息回复用户：
	1. 会话上下文：
	2. 用户偏好：map[keywords:推荐一款适合我的饮品，看电影，我喜欢什么，我喜欢熊猫]
	3. 用户当前输入：我喜欢什么
	要求：回复简洁，不超过50字。
	
[GIN] 2025/12/22 - 00:54:15 | 200 |  358.651304ms | 120.245.130.121 | POST     "/agent/chat"
=== Go AI Agent服务启动成功 ===
Web页面访问地址：http://本机IP:8080 或 http://localhost:8080
HTTPS服务启动：https://127.0.0.1:8443
[GIN] 2025/12/22 - 00:56:42 | 200 |    3.285185ms | 120.245.130.121 | GET      "/"
用户[user123]输入的关键字：你好
longMem: map[keywords:我喜欢什么，我喜欢熊猫，推荐一款适合我的饮品，看电影]
prompt: 
你是一个贴心的极简AI助手，会结合用户的历史对话和长期偏好，友好地回复用户。
参考信息：
- 历史会话上下文：
- 用户的长期偏好/记忆：用户偏好：map[keywords:我喜欢什么，我喜欢熊猫，推荐一款适合我的饮品，看电影]
- 用户当前的提问/输入：你好
回复要求：语气亲切自然，简洁易懂，字数控制在50字以内，避免生硬的机器感。

[GIN] 2025/12/22 - 00:56:50 | 200 |  388.591579ms | 120.245.130.121 | POST     "/agent/chat"
用户[user123]输入的关键字：今天天气怎么样
longMem: map[keywords:推荐一款适合我的饮品，看电影，你好，我喜欢什么，我喜欢熊猫]
prompt: 
你是一个贴心的极简AI助手，会结合用户的历史对话和长期偏好，友好地回复用户。
参考信息：
- 历史会话上下文：
用户：你好
Agent：你好呀！喜欢熊猫和电影，要推荐一款饮品吗？😊
- 用户的长期偏好/记忆：用户偏好：map[keywords:推荐一款适合我的饮品，看电影，你好，我喜欢什么，我喜欢熊猫]
- 用户当前的提问/输入：今天天气怎么样
回复要求：语气亲切自然，简洁易懂，字数控制在50字以内，避免生硬的机器感。

[GIN] 2025/12/22 - 00:57:07 | 200 |  393.389584ms | 120.245.130.121 | POST     "/agent/chat"
用户[user123]输入的关键字：我喜欢婷婷
longMem: map[keywords:看电影，你好，我喜欢什么，我喜欢熊猫，今天天气怎么样，推荐一款适合我的饮品]
prompt: 
你是一个贴心的极简AI助手，会结合用户的历史对话和长期偏好，友好地回复用户。
参考信息：
- 历史会话上下文：
用户：你好
Agent：你好呀！喜欢熊猫和电影，要推荐一款饮品吗？😊
用户：今天天气怎么样
Agent：你好呀！今天天气不错，适合看电影和喝点饮品～😊
- 用户的长期偏好/记忆：用户偏好：map[keywords:看电影，你好，我喜欢什么，我喜欢熊猫，今天天气怎么样，推荐一款适合我的饮品]
- 用户当前的提问/输入：我喜欢婷婷
回复要求：语气亲切自然，简洁易懂，字数控制在50字以内，避免生硬的机器感。

[GIN] 2025/12/22 - 00:59:01 | 200 |  307.108658ms | 120.245.130.121 | POST     "/agent/chat"
用户[user123]输入的关键字：是的我喜欢她
longMem: map[keywords:今天天气怎么样，推荐一款适合我的饮品，我喜欢婷婷，看电影，你好，我喜欢什么，我喜欢熊猫]
prompt: 
你是一个贴心的极简AI助手，会结合用户的历史对话和长期偏好，友好地回复用户。
参考信息：
- 历史会话上下文：
用户：你好
Agent：你好呀！喜欢熊猫和电影，要推荐一款饮品吗？😊
用户：今天天气怎么样
Agent：你好呀！今天天气不错，适合看电影和喝点饮品～😊
用户：我喜欢婷婷
Agent：婷婷是个好名字呀！喜欢她吗？😊
- 用户的长期偏好/记忆：用户偏好：map[keywords:今天天气怎么样，推荐一款适合我的饮品，我喜欢婷婷，看电影，你好，我喜欢什么，我喜欢熊猫]
- 用户当前的提问/输入：是的我喜欢她
回复要求：语气亲切自然，简洁易懂，字数控制在50字以内，避免生硬的机器感。

[GIN] 2025/12/22 - 00:59:11 | 200 |  366.490524ms | 120.245.130.121 | POST     "/agent/chat"
=== Go AI Agent服务启动成功 ===
Web页面访问地址：http://本机IP:8080 或 http://localhost:8080
HTTPS服务启动：https://127.0.0.1:8443
用户[user123]输入的关键字：这里是北京，天气怎么样
longMem: map[keywords:推荐一款适合我的饮品，我喜欢婷婷，看电影，你好，我喜欢什么，我喜欢熊猫，是的我喜欢她，今天天气怎么样]
prompt: 
你是一个贴心的极简AI助手，会结合用户的历史对话和长期偏好，友好地回复用户。
参考信息：
- 历史会话上下文：
- 用户的长期偏好/记忆：用户偏好：关键字：推荐一款适合我的饮品，我喜欢婷婷，看电影，你好，我喜欢什么，我喜欢熊猫，是的我喜欢她，今天天气怎么样
- 用户当前的提问/输入：这里是北京，天气怎么样
回复要求：语气亲切自然，简洁易懂，字数控制在50字以内，避免生硬的机器感。

[GIN] 2025/12/22 - 01:02:20 | 200 |  345.580087ms | 120.245.130.121 | POST     "/agent/chat"
=== Go AI Agent服务启动成功 ===
Web页面访问地址：http://本机IP:8080 或 http://localhost:8080
HTTPS服务启动：https://127.0.0.1:8443
[DEBUG] 2025-12-22 01:23:13 第0个分词格式异常，跳过：这里/r
[DEBUG] 2025-12-22 01:23:13 第1个分词格式异常，跳过：是/v
[DEBUG] 2025-12-22 01:23:13 第2个分词格式异常，跳过：北京/ns
[DEBUG] 2025-12-22 01:23:13 第3个分词格式异常，跳过：，/x
[DEBUG] 2025-12-22 01:23:13 第4个分词格式异常，跳过：天气/n
[DEBUG] 2025-12-22 01:23:13 第5个分词格式异常，跳过：怎么样/r
[INFO] 2025-12-22 01:23:13 无有效偏好关键字，输入内容：这里是北京，天气怎么样
用户[user123]输入的关键字：无
longMem: map[keywords:这里是北京，看电影，你好，我喜欢什么，是的我喜欢她，天气怎么样，推荐一款适合我的饮品，我喜欢婷婷，我喜欢熊猫，今天天气怎么样]
prompt: 
你是一个贴心的极简AI助手，会结合用户的历史对话和长期偏好，友好地回复用户。
参考信息：
- 历史会话上下文：
- 用户的长期偏好/记忆：用户偏好：关键字：这里是北京，看电影，你好，我喜欢什么，是的我喜欢她，天气怎么样，推荐一款适合我的饮品，我喜欢婷婷，我喜欢熊猫，今天天气怎么样
- 用户当前的提问/输入：这里是北京，天气怎么样
回复要求：语气亲切自然，简洁易懂，字数控制在50字以内，避免生硬的机器感。

[GIN] 2025/12/22 - 01:23:13 | 200 |  1.192929352s | 120.245.130.121 | POST     "/agent/chat"
[DEBUG] 2025-12-22 01:23:32 第0个分词格式异常，跳过：这里/r
[DEBUG] 2025-12-22 01:23:32 第1个分词格式异常，跳过：是/v
[DEBUG] 2025-12-22 01:23:32 第2个分词格式异常，跳过：北京/ns
[DEBUG] 2025-12-22 01:23:32 第3个分词格式异常，跳过：，/x
[DEBUG] 2025-12-22 01:23:32 第4个分词格式异常，跳过：天气/n
[DEBUG] 2025-12-22 01:23:32 第5个分词格式异常，跳过：怎么样/r
[INFO] 2025-12-22 01:23:32 无有效偏好关键字，输入内容：这里是北京，天气怎么样
用户[user123]输入的关键字：无
longMem: map[]
prompt: 
你是一个贴心的极简AI助手，会结合用户的历史对话和长期偏好，友好地回复用户。
参考信息：
- 历史会话上下文：
用户：这里是北京，天气怎么样
Agent：你好！北京今天天气晴朗，适合外出。需要我帮你推荐饮品吗？
- 用户的长期偏好/记忆：用户暂无偏好信息
- 用户当前的提问/输入：这里是北京，天气怎么样
回复要求：语气亲切自然，简洁易懂，字数控制在50字以内，避免生硬的机器感。

[GIN] 2025/12/22 - 01:23:33 | 200 |  343.577489ms | 120.245.130.121 | POST     "/agent/chat"
[DEBUG] 2025-12-22 01:24:01 第0个分词格式异常，跳过：我/r
[DEBUG] 2025-12-22 01:24:01 第1个分词格式异常，跳过：喜欢/v
[DEBUG] 2025-12-22 01:24:01 第2个分词格式异常，跳过：看/v
[DEBUG] 2025-12-22 01:24:01 第3个分词格式异常，跳过：电影/n
[INFO] 2025-12-22 01:24:01 无有效偏好关键字，输入内容：我喜欢看电影
用户[user123]输入的关键字：无
longMem: map[keywords:无]
prompt: 
你是一个贴心的极简AI助手，会结合用户的历史对话和长期偏好，友好地回复用户。
参考信息：
- 历史会话上下文：
用户：这里是北京，天气怎么样
Agent：你好！北京今天天气晴朗，适合外出。需要我帮你推荐饮品吗？
用户：这里是北京，天气怎么样
Agent：你好！北京今天晴朗，适合外出。需要推荐饮品吗？
- 用户的长期偏好/记忆：用户暂无有效偏好信息
- 用户当前的提问/输入：我喜欢看电影
回复要求：语气亲切自然，简洁易懂，字数控制在50字以内，避免生硬的机器感。

[GIN] 2025/12/22 - 01:24:01 | 200 |  373.932537ms | 120.245.130.121 | POST     "/agent/chat"
[DEBUG] 2025-12-22 01:24:14 第0个分词格式异常，跳过：我/r
[DEBUG] 2025-12-22 01:24:14 第1个分词格式异常，跳过：喜欢/v
[DEBUG] 2025-12-22 01:24:14 第2个分词格式异常，跳过：看/v
[DEBUG] 2025-12-22 01:24:14 第3个分词格式异常，跳过：钓鱼/n
[INFO] 2025-12-22 01:24:14 无有效偏好关键字，输入内容：我喜欢看钓鱼
用户[user123]输入的关键字：无
longMem: map[keywords:无]
prompt: 
你是一个贴心的极简AI助手，会结合用户的历史对话和长期偏好，友好地回复用户。
参考信息：
- 历史会话上下文：
用户：这里是北京，天气怎么样
Agent：你好！北京今天天气晴朗，适合外出。需要我帮你推荐饮品吗？
用户：这里是北京，天气怎么样
Agent：你好！北京今天晴朗，适合外出。需要推荐饮品吗？
用户：我喜欢看电影
Agent：你喜欢看电影啊！推荐你看看《肖申克的救赎》，经典又暖心。
- 用户的长期偏好/记忆：用户暂无有效偏好信息
- 用户当前的提问/输入：我喜欢看钓鱼
回复要求：语气亲切自然，简洁易懂，字数控制在50字以内，避免生硬的机器感。

[GIN] 2025/12/22 - 01:24:14 | 200 |  495.453068ms | 120.245.130.121 | POST     "/agent/chat"
=== Go AI Agent服务启动成功 ===
Web页面访问地址：http://本机IP:8080 或 http://localhost:8080
HTTPS服务启动：https://127.0.0.1:8443
[DEBUG] 2025-12-22 01:28:57 第0个分词格式异常，跳过：我/r
[DEBUG] 2025-12-22 01:28:57 第1个分词格式异常，跳过：喜欢/v
[DEBUG] 2025-12-22 01:28:57 第2个分词格式异常，跳过：看/v
[DEBUG] 2025-12-22 01:28:57 第3个分词格式异常，跳过：钓鱼/n
[INFO] 2025-12-22 01:28:57 无有效关键字，输入：我喜欢看钓鱼
用户[user123]输入的关键字：无
longMem: map[keywords:无]
prompt: 
你是一个贴心的极简AI助手，会结合用户的历史对话和长期偏好，友好地回复用户。
参考信息：
- 历史会话上下文：
- 用户的长期偏好/记忆：用户暂无有效偏好信息
- 用户当前的提问/输入：我喜欢看钓鱼
回复要求：语气亲切自然，简洁易懂，字数控制在50字以内，避免生硬的机器感。

[GIN] 2025/12/22 - 01:28:57 | 200 |  1.060995237s | 120.245.130.121 | POST     "/agent/chat"
[DEBUG] 2025-12-22 01:30:13 第0个分词格式异常，跳过：我/r
[DEBUG] 2025-12-22 01:30:13 第1个分词格式异常，跳过：喜欢/v
[DEBUG] 2025-12-22 01:30:13 第2个分词格式异常，跳过：钓鱼/n
[INFO] 2025-12-22 01:30:13 无有效关键字，输入：我喜欢钓鱼
用户[user123]输入的关键字：无
longMem: map[keywords:无]
prompt: 
你是一个贴心的极简AI助手，会结合用户的历史对话和长期偏好，友好地回复用户。
参考信息：
- 历史会话上下文：
用户：我喜欢看钓鱼
Agent：钓鱼很放松呀！你喜欢看哪种风格的钓鱼视频呢？
- 用户的长期偏好/记忆：用户暂无有效偏好信息
- 用户当前的提问/输入：我喜欢钓鱼
回复要求：语气亲切自然，简洁易懂，字数控制在50字以内，避免生硬的机器感。

[GIN] 2025/12/22 - 01:30:14 | 200 |  346.210084ms | 120.245.130.121 | POST     "/agent/chat"
[DEBUG] 2025-12-22 01:30:15 第0个分词格式异常，跳过：我/r
[DEBUG] 2025-12-22 01:30:15 第1个分词格式异常，跳过：喜欢/v
[DEBUG] 2025-12-22 01:30:15 第2个分词格式异常，跳过：钓鱼/n
[INFO] 2025-12-22 01:30:15 无有效关键字，输入：我喜欢钓鱼
用户[user123]输入的关键字：无
longMem: map[keywords:无]
prompt: 
你是一个贴心的极简AI助手，会结合用户的历史对话和长期偏好，友好地回复用户。
参考信息：
- 历史会话上下文：
用户：我喜欢看钓鱼
Agent：钓鱼很放松呀！你喜欢看哪种风格的钓鱼视频呢？
用户：我喜欢钓鱼
Agent：钓鱼真棒！享受宁静的时光，很适合放松心情呢～
- 用户的长期偏好/记忆：用户暂无有效偏好信息
- 用户当前的提问/输入：我喜欢钓鱼
回复要求：语气亲切自然，简洁易懂，字数控制在50字以内，避免生硬的机器感。

[GIN] 2025/12/22 - 01:30:15 | 200 |   354.21613ms | 120.245.130.121 | POST     "/agent/chat"
[DEBUG] 2025-12-22 01:31:11 第0个分词格式异常，跳过：推荐/v
[DEBUG] 2025-12-22 01:31:11 第1个分词格式异常，跳过：一款/m
[DEBUG] 2025-12-22 01:31:11 第2个分词格式异常，跳过：适合/v
[DEBUG] 2025-12-22 01:31:11 第3个分词格式异常，跳过：我/r
[DEBUG] 2025-12-22 01:31:11 第4个分词格式异常，跳过：的/uj
[DEBUG] 2025-12-22 01:31:11 第5个分词格式异常，跳过：饮品/n
[INFO] 2025-12-22 01:31:11 无有效关键字，输入：推荐一款适合我的饮品
用户[user123]输入的关键字：无
longMem: map[keywords:无]
prompt: 
你是一个贴心的极简AI助手，会结合用户的历史对话和长期偏好，友好地回复用户。
参考信息：
- 历史会话上下文：
用户：我喜欢看钓鱼
Agent：钓鱼很放松呀！你喜欢看哪种风格的钓鱼视频呢？
用户：我喜欢钓鱼
Agent：钓鱼真棒！享受宁静的时光，很适合放松心情呢～
用户：我喜欢钓鱼
Agent：钓鱼真棒！享受宁静的时光，很适合放松心情呢～
- 用户的长期偏好/记忆：用户暂无有效偏好信息
- 用户当前的提问/输入：推荐一款适合我的饮品
回复要求：语气亲切自然，简洁易懂，字数控制在50字以内，避免生硬的机器感。

[GIN] 2025/12/22 - 01:31:12 | 200 |  333.582258ms | 120.245.130.121 | POST     "/agent/chat"
=== Go AI Agent服务启动成功 ===
Web页面访问地址：http://本机IP:8080 或 http://localhost:8080
HTTPS服务启动：https://127.0.0.1:8443
[DEBUG] 2025-12-22 01:32:04 第0个分词被过滤（单字/停用词）：word=我, pos=r
[DEBUG] 2025-12-22 01:32:04 第1个分词被过滤（单字/停用词）：word=喜欢, pos=v
[DEBUG] 2025-12-22 01:32:04 第2个分词保留为关键字：word=钓鱼, pos=n
用户[user123]输入的关键字：钓鱼
longMem: map[keywords:无]
prompt: 
你是一个贴心的极简AI助手，会结合用户的历史对话和长期偏好，友好地回复用户。
参考信息：
- 历史会话上下文：
- 用户的长期偏好/记忆：用户暂无有效偏好信息
- 用户当前的提问/输入：我喜欢钓鱼
回复要求：语气亲切自然，简洁易懂，字数控制在50字以内，避免生硬的机器感。

[GIN] 2025/12/22 - 01:32:05 | 200 |  1.236861225s | 120.245.130.121 | POST     "/agent/chat"
[DEBUG] 2025-12-22 01:32:18 第0个分词被过滤（单字/停用词）：word=我, pos=r
[DEBUG] 2025-12-22 01:32:18 第1个分词被过滤（单字/停用词）：word=喜欢, pos=v
[DEBUG] 2025-12-22 01:32:18 第2个分词保留为关键字：word=钓鱼, pos=n
用户[user123]输入的关键字：钓鱼
longMem: map[keywords:钓鱼]
prompt: 
你是一个贴心的极简AI助手，会结合用户的历史对话和长期偏好，友好地回复用户。
参考信息：
- 历史会话上下文：
用户：我喜欢钓鱼
Agent：那我们找个安静的地方，一起享受钓鱼的宁静时光吧！
- 用户的长期偏好/记忆：用户偏好：关键字：钓鱼
- 用户当前的提问/输入：我喜欢钓鱼
回复要求：语气亲切自然，简洁易懂，字数控制在50字以内，避免生硬的机器感。

[GIN] 2025/12/22 - 01:32:19 | 200 |  379.801635ms | 120.245.130.121 | POST     "/agent/chat"
[DEBUG] 2025-12-22 01:32:31 第0个分词被过滤（单字/停用词）：word=我, pos=r
[DEBUG] 2025-12-22 01:32:31 第1个分词被过滤（单字/停用词）：word=喜欢, pos=v
[DEBUG] 2025-12-22 01:32:31 第2个分词保留为关键字：word=看, pos=v
[DEBUG] 2025-12-22 01:32:31 第3个分词保留为关键字：word=电影, pos=n
用户[user123]输入的关键字：看，电影
longMem: map[keywords:钓鱼]
prompt: 
你是一个贴心的极简AI助手，会结合用户的历史对话和长期偏好，友好地回复用户。
参考信息：
- 历史会话上下文：
用户：我喜欢钓鱼
Agent：那我们找个安静的地方，一起享受钓鱼的宁静时光吧！
用户：我喜欢钓鱼
Agent：那我们找个安静的地方，一起享受钓鱼的宁静时光吧！
- 用户的长期偏好/记忆：用户偏好：关键字：钓鱼
- 用户当前的提问/输入：我喜欢看电影
回复要求：语气亲切自然，简洁易懂，字数控制在50字以内，避免生硬的机器感。

[GIN] 2025/12/22 - 01:32:32 | 200 |  727.673359ms | 120.245.130.121 | POST     "/agent/chat"
[DEBUG] 2025-12-22 01:32:52 第0个分词被过滤（单字/停用词）：word=我, pos=r
[DEBUG] 2025-12-22 01:32:52 第1个分词被过滤（单字/停用词）：word=喜欢, pos=v
[DEBUG] 2025-12-22 01:32:52 第2个分词被过滤（单字/停用词）：word=的, pos=uj
[DEBUG] 2025-12-22 01:32:52 第3个分词保留为关键字：word=人, pos=n
[DEBUG] 2025-12-22 01:32:52 第4个分词保留为关键字：word=叫, pos=v
[DEBUG] 2025-12-22 01:32:52 第5个分词被过滤（非偏好词性）：word=婷婷, pos=z
用户[user123]输入的关键字：人，叫
longMem: map[keywords:钓鱼，看，电影]
prompt: 
你是一个贴心的极简AI助手，会结合用户的历史对话和长期偏好，友好地回复用户。
参考信息：
- 历史会话上下文：
用户：我喜欢钓鱼
Agent：那我们找个安静的地方，一起享受钓鱼的宁静时光吧！
用户：我喜欢钓鱼
Agent：那我们找个安静的地方，一起享受钓鱼的宁静时光吧！
用户：我喜欢看电影
Agent：看电影也是个好选择，我们可以找部喜欢的片一起看吧！
- 用户的长期偏好/记忆：用户偏好：关键字：钓鱼，看，电影
- 用户当前的提问/输入：我喜欢的人叫婷婷
回复要求：语气亲切自然，简洁易懂，字数控制在50字以内，避免生硬的机器感。

[GIN] 2025/12/22 - 01:32:53 | 200 |  337.668195ms | 120.245.130.121 | POST     "/agent/chat"
[DEBUG] 2025-12-22 01:33:26 第0个分词被过滤（单字/停用词）：word=我, pos=r
[DEBUG] 2025-12-22 01:33:26 第1个分词被过滤（单字/停用词）：word=喜欢, pos=v
[DEBUG] 2025-12-22 01:33:26 第2个分词被过滤（非偏好词性）：word=哪个, pos=r
[DEBUG] 2025-12-22 01:33:26 第3个分词保留为关键字：word=人, pos=n
用户[user123]输入的关键字：人
longMem: map[keywords:钓鱼，看，电影，人，叫]
prompt: 
你是一个贴心的极简AI助手，会结合用户的历史对话和长期偏好，友好地回复用户。
参考信息：
- 历史会话上下文：
用户：我喜欢钓鱼
Agent：那我们找个安静的地方，一起享受钓鱼的宁静时光吧！
用户：我喜欢钓鱼
Agent：那我们找个安静的地方，一起享受钓鱼的宁静时光吧！
用户：我喜欢看电影
Agent：看电影也是个好选择，我们可以找部喜欢的片一起看吧！
用户：我喜欢的人叫婷婷
Agent：婷婷是个好名字，和你一起的日子一定很温馨吧！
- 用户的长期偏好/记忆：用户偏好：关键字：钓鱼，看，电影，人，叫
- 用户当前的提问/输入：我喜欢哪个人
回复要求：语气亲切自然，简洁易懂，字数控制在50字以内，避免生硬的机器感。

[GIN] 2025/12/22 - 01:33:26 | 200 |  262.875179ms | 120.245.130.121 | POST     "/agent/chat"
=== Go AI Agent服务启动成功 ===
Web页面访问地址：http://本机IP:8080 或 http://localhost:8080
HTTPS服务启动：https://127.0.0.1:8443
[DEBUG] 2025-12-22 01:35:56 第0个分词被过滤（单字/停用词）：word=你好, pos=l
[DEBUG] 2025-12-22 01:35:56 第1个分词被过滤（单字/停用词）：word=啊, pos=zg
[INFO] 2025-12-22 01:35:56 无有效偏好关键字，输入内容：你好啊
用户[user123]输入的关键字：无
longMem: map[keywords:钓鱼，看，电影，人，叫]
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（按时间从旧到新排序）：
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户偏好：关键字：钓鱼，看，电影，人，叫
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：你好啊

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/22 - 01:35:56 | 200 |  1.318213869s | 120.245.130.121 | POST     "/agent/chat"
[DEBUG] 2025-12-22 01:36:08 第0个分词被过滤（单字/停用词）：word=我, pos=r
[DEBUG] 2025-12-22 01:36:08 第1个分词被过滤（单字/停用词）：word=喜欢, pos=v
[DEBUG] 2025-12-22 01:36:08 第2个分词被过滤（单字/停用词）：word=什么, pos=r
[INFO] 2025-12-22 01:36:08 无有效偏好关键字，输入内容：我喜欢什么
用户[user123]输入的关键字：无
longMem: map[keywords:钓鱼，看，电影，人，叫]
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（按时间从旧到新排序）：
用户：你好啊
Agent：你好呀！今天过得怎么样呀？最近有空的话，可以一起看看电影，或者聊聊你感兴趣的话题，感觉你会喜欢的～
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户偏好：关键字：钓鱼，看，电影，人，叫
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：我喜欢什么

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/22 - 01:36:09 | 200 |  543.897618ms | 120.245.130.121 | POST     "/agent/chat"
[DEBUG] 2025-12-22 01:36:21 第0个分词被过滤（单字/停用词）：word=我, pos=r
[DEBUG] 2025-12-22 01:36:21 第1个分词被过滤（单字/停用词）：word=喜欢, pos=v
[DEBUG] 2025-12-22 01:36:21 第2个分词被过滤（单字/停用词）：word=的, pos=uj
[DEBUG] 2025-12-22 01:36:21 第3个分词保留为关键字：word=人, pos=n
用户[user123]输入的关键字：人
longMem: map[keywords:钓鱼，看，电影，人，叫]
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（按时间从旧到新排序）：
用户：你好啊
Agent：你好呀！今天过得怎么样呀？最近有空的话，可以一起看看电影，或者聊聊你感兴趣的话题，感觉你会喜欢的～
用户：我喜欢什么
Agent：你喜欢什么呢？是喜欢钓鱼、看电影，还是和有趣的人聊天呀？感觉你对这些都挺有热情的～想具体聊聊哪个呢？
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户偏好：关键字：钓鱼，看，电影，人，叫
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：我喜欢的人

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/22 - 01:36:22 | 200 |  631.825387ms | 120.245.130.121 | POST     "/agent/chat"
[DEBUG] 2025-12-22 01:36:36 第0个分词被过滤（单字/停用词）：word=你, pos=r
[DEBUG] 2025-12-22 01:36:36 第1个分词被过滤（单字/停用词）：word=知道, pos=v
[DEBUG] 2025-12-22 01:36:36 第2个分词被过滤（单字/停用词）：word=我, pos=r
[DEBUG] 2025-12-22 01:36:36 第3个分词被过滤（单字/停用词）：word=喜欢, pos=v
[DEBUG] 2025-12-22 01:36:36 第4个分词被过滤（非偏好词性）：word=谁, pos=r
[DEBUG] 2025-12-22 01:36:36 第5个分词被过滤（单字/停用词）：word=吗, pos=y
[INFO] 2025-12-22 01:36:36 无有效偏好关键字，输入内容：你知道我喜欢谁吗
用户[user123]输入的关键字：无
longMem: map[keywords:钓鱼，看，电影，人，叫]
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（按时间从旧到新排序）：
用户：你好啊
Agent：你好呀！今天过得怎么样呀？最近有空的话，可以一起看看电影，或者聊聊你感兴趣的话题，感觉你会喜欢的～
用户：我喜欢什么
Agent：你喜欢什么呢？是喜欢钓鱼、看电影，还是和有趣的人聊天呀？感觉你对这些都挺有热情的～想具体聊聊哪个呢？
用户：我喜欢的人
Agent：你喜欢的人啊，是那种让你觉得特别舒服、愿意多了解的类型吗？如果喜欢和有趣的人聊天，那一定很幸福呢～要是有机会，也可以一起分享些有趣的经历呀。
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户偏好：关键字：钓鱼，看，电影，人，叫
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：你知道我喜欢谁吗

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/22 - 01:36:36 | 200 |  600.174722ms | 120.245.130.121 | POST     "/agent/chat"
[DEBUG] 2025-12-22 01:41:21 第0个分词被过滤（单字/停用词）：word=我, pos=r
[DEBUG] 2025-12-22 01:41:21 第1个分词被过滤（单字/停用词）：word=喜欢, pos=v
[DEBUG] 2025-12-22 01:41:21 第2个分词被过滤（非偏好词性）：word=婷婷, pos=z
[INFO] 2025-12-22 01:41:21 无有效偏好关键字，输入内容：我喜欢婷婷
用户[user123]输入的关键字：无
longMem: map[keywords:钓鱼，看，电影，人，叫]
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（按时间从旧到新排序）：
用户：你好啊
Agent：你好呀！今天过得怎么样呀？最近有空的话，可以一起看看电影，或者聊聊你感兴趣的话题，感觉你会喜欢的～
用户：我喜欢什么
Agent：你喜欢什么呢？是喜欢钓鱼、看电影，还是和有趣的人聊天呀？感觉你对这些都挺有热情的～想具体聊聊哪个呢？
用户：我喜欢的人
Agent：你喜欢的人啊，是那种让你觉得特别舒服、愿意多了解的类型吗？如果喜欢和有趣的人聊天，那一定很幸福呢～要是有机会，也可以一起分享些有趣的经历呀。
用户：你知道我喜欢谁吗
Agent：你指的是你喜欢的人呀？我还不太清楚具体是谁呢～不过如果喜欢的是有趣又温暖的人，那一定很幸福吧！要是愿意聊聊，我很乐意听你说说～
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户偏好：关键字：钓鱼，看，电影，人，叫
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：我喜欢婷婷

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/22 - 01:41:21 | 200 |  636.122791ms | 120.245.130.121 | POST     "/agent/chat"
[DEBUG] 2025-12-22 01:41:30 第0个分词被过滤（非偏好词性）：word=嘻, pos=zg
[DEBUG] 2025-12-22 01:41:30 第1个分词被过滤（非偏好词性）：word=嘻嘻, pos=z
[INFO] 2025-12-22 01:41:30 无有效偏好关键字，输入内容：嘻嘻嘻
用户[user123]输入的关键字：无
longMem: map[keywords:钓鱼，看，电影，人，叫]
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（按时间从旧到新排序）：
用户：你好啊
Agent：你好呀！今天过得怎么样呀？最近有空的话，可以一起看看电影，或者聊聊你感兴趣的话题，感觉你会喜欢的～
用户：我喜欢什么
Agent：你喜欢什么呢？是喜欢钓鱼、看电影，还是和有趣的人聊天呀？感觉你对这些都挺有热情的～想具体聊聊哪个呢？
用户：我喜欢的人
Agent：你喜欢的人啊，是那种让你觉得特别舒服、愿意多了解的类型吗？如果喜欢和有趣的人聊天，那一定很幸福呢～要是有机会，也可以一起分享些有趣的经历呀。
用户：你知道我喜欢谁吗
Agent：你指的是你喜欢的人呀？我还不太清楚具体是谁呢～不过如果喜欢的是有趣又温暖的人，那一定很幸福吧！要是愿意聊聊，我很乐意听你说说～
用户：我喜欢婷婷
Agent：你喜欢婷婷啊，听起来她是个很特别的人呢～如果你们相处起来舒服又有趣，那一定很棒！要是想聊聊她的故事，我随时在这儿听你说哦。
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户偏好：关键字：钓鱼，看，电影，人，叫
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：嘻嘻嘻

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/22 - 01:41:31 | 200 |  517.682327ms | 120.245.130.121 | POST     "/agent/chat"
[DEBUG] 2025-12-22 01:41:58 第0个分词被过滤（单字/停用词）：word=我, pos=r
[DEBUG] 2025-12-22 01:41:58 第1个分词被过滤（单字/停用词）：word=喜欢, pos=v
[DEBUG] 2025-12-22 01:41:58 第2个分词被过滤（单字/停用词）：word=什么, pos=r
[INFO] 2025-12-22 01:41:58 无有效偏好关键字，输入内容：我喜欢什么
用户[wuhao]输入的关键字：无
longMem: map[]
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（按时间从旧到新排序）：
用户：你好啊
Agent：你好呀！今天过得怎么样呀？最近有空的话，可以一起看看电影，或者聊聊你感兴趣的话题，感觉你会喜欢的～
用户：我喜欢什么
Agent：你喜欢什么呢？是喜欢钓鱼、看电影，还是和有趣的人聊天呀？感觉你对这些都挺有热情的～想具体聊聊哪个呢？
用户：我喜欢的人
Agent：你喜欢的人啊，是那种让你觉得特别舒服、愿意多了解的类型吗？如果喜欢和有趣的人聊天，那一定很幸福呢～要是有机会，也可以一起分享些有趣的经历呀。
用户：你知道我喜欢谁吗
Agent：你指的是你喜欢的人呀？我还不太清楚具体是谁呢～不过如果喜欢的是有趣又温暖的人，那一定很幸福吧！要是愿意聊聊，我很乐意听你说说～
用户：我喜欢婷婷
Agent：你喜欢婷婷啊，听起来她是个很特别的人呢～如果你们相处起来舒服又有趣，那一定很棒！要是想聊聊她的故事，我随时在这儿听你说哦。
用户：嘻嘻嘻
Agent：嘻嘻嘻，看来今天心情很好呀～是不是想到什么有趣的事了？如果想聊聊喜欢的人或者别的，我都在这儿陪着你呢！
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户暂无偏好信息
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：我喜欢什么

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/22 - 01:41:59 | 200 |  584.792008ms | 120.245.130.121 | POST     "/agent/chat"
[DEBUG] 2025-12-22 01:42:21 第0个分词被过滤（单字/停用词）：word=我, pos=r
[DEBUG] 2025-12-22 01:42:21 第1个分词被过滤（单字/停用词）：word=喜欢, pos=v
[DEBUG] 2025-12-22 01:42:21 第2个分词被过滤（非偏好词性）：word=哪个, pos=r
[DEBUG] 2025-12-22 01:42:21 第3个分词保留为关键字：word=人, pos=n
用户[wuhao]输入的关键字：人
longMem: map[keywords:无]
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（按时间从旧到新排序）：
用户：你好啊
Agent：你好呀！今天过得怎么样呀？最近有空的话，可以一起看看电影，或者聊聊你感兴趣的话题，感觉你会喜欢的～
用户：我喜欢什么
Agent：你喜欢什么呢？是喜欢钓鱼、看电影，还是和有趣的人聊天呀？感觉你对这些都挺有热情的～想具体聊聊哪个呢？
用户：我喜欢的人
Agent：你喜欢的人啊，是那种让你觉得特别舒服、愿意多了解的类型吗？如果喜欢和有趣的人聊天，那一定很幸福呢～要是有机会，也可以一起分享些有趣的经历呀。
用户：你知道我喜欢谁吗
Agent：你指的是你喜欢的人呀？我还不太清楚具体是谁呢～不过如果喜欢的是有趣又温暖的人，那一定很幸福吧！要是愿意聊聊，我很乐意听你说说～
用户：我喜欢婷婷
Agent：你喜欢婷婷啊，听起来她是个很特别的人呢～如果你们相处起来舒服又有趣，那一定很棒！要是想聊聊她的故事，我随时在这儿听你说哦。
用户：嘻嘻嘻
Agent：嘻嘻嘻，看来今天心情很好呀～是不是想到什么有趣的事了？如果想聊聊喜欢的人或者别的，我都在这儿陪着你呢！
用户：我喜欢什么
Agent：你喜欢什么呢？是喜欢钓鱼、看电影，还是和有趣的人聊天呀？感觉你对这些都挺有热情的～想具体聊聊哪个呢？
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户暂无有效偏好信息
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：我喜欢哪个人

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/22 - 01:42:22 | 200 |  617.542193ms | 120.245.130.121 | POST     "/agent/chat"
[DEBUG] 2025-12-22 02:41:21 第0个分词被过滤（单字/停用词）：word=我, pos=r
[DEBUG] 2025-12-22 02:41:21 第1个分词被过滤（单字/停用词）：word=喜欢, pos=v
[DEBUG] 2025-12-22 02:41:21 第2个分词保留为关键字：word=吃, pos=v
[DEBUG] 2025-12-22 02:41:21 第3个分词保留为关键字：word=鱼, pos=n
用户[user123]输入的关键字：吃，鱼
longMem: map[keywords:钓鱼，看，电影，人，叫]
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（按时间从旧到新排序）：
用户：你好啊
Agent：你好呀！今天过得怎么样呀？最近有空的话，可以一起看看电影，或者聊聊你感兴趣的话题，感觉你会喜欢的～
用户：我喜欢什么
Agent：你喜欢什么呢？是喜欢钓鱼、看电影，还是和有趣的人聊天呀？感觉你对这些都挺有热情的～想具体聊聊哪个呢？
用户：我喜欢的人
Agent：你喜欢的人啊，是那种让你觉得特别舒服、愿意多了解的类型吗？如果喜欢和有趣的人聊天，那一定很幸福呢～要是有机会，也可以一起分享些有趣的经历呀。
用户：你知道我喜欢谁吗
Agent：你指的是你喜欢的人呀？我还不太清楚具体是谁呢～不过如果喜欢的是有趣又温暖的人，那一定很幸福吧！要是愿意聊聊，我很乐意听你说说～
用户：我喜欢婷婷
Agent：你喜欢婷婷啊，听起来她是个很特别的人呢～如果你们相处起来舒服又有趣，那一定很棒！要是想聊聊她的故事，我随时在这儿听你说哦。
用户：嘻嘻嘻
Agent：嘻嘻嘻，看来今天心情很好呀～是不是想到什么有趣的事了？如果想聊聊喜欢的人或者别的，我都在这儿陪着你呢！
用户：我喜欢什么
Agent：你喜欢什么呢？是喜欢钓鱼、看电影，还是和有趣的人聊天呀？感觉你对这些都挺有热情的～想具体聊聊哪个呢？
用户：我喜欢哪个人
Agent：你喜欢哪个人呀？是像婷婷那样让你觉得温暖又特别的人吗？如果愿意的话，可以和我聊聊他/她哦，我很想听听你的故事～
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户偏好：关键字：钓鱼，看，电影，人，叫
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：我喜欢吃鱼

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/22 - 02:41:22 | 200 |  612.522113ms | 120.245.130.121 | POST     "/agent/chat"
[DEBUG] 2025-12-22 02:41:47 第0个分词被过滤（单字/停用词）：word=你, pos=r
[DEBUG] 2025-12-22 02:41:47 第1个分词被过滤（单字/停用词）：word=知道, pos=v
[DEBUG] 2025-12-22 02:41:47 第2个分词被过滤（单字/停用词）：word=我, pos=r
[DEBUG] 2025-12-22 02:41:47 第3个分词被过滤（单字/停用词）：word=喜欢, pos=v
[DEBUG] 2025-12-22 02:41:47 第4个分词被过滤（单字/停用词）：word=什么, pos=r
[DEBUG] 2025-12-22 02:41:47 第5个分词被过滤（单字/停用词）：word=吗, pos=y
[INFO] 2025-12-22 02:41:47 无有效偏好关键字，输入内容：你知道我喜欢什么吗
用户[user123]输入的关键字：无
longMem: map[keywords:钓鱼，看，电影，人，叫，吃，鱼]
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（按时间从旧到新排序）：
用户：你好啊
Agent：你好呀！今天过得怎么样呀？最近有空的话，可以一起看看电影，或者聊聊你感兴趣的话题，感觉你会喜欢的～
用户：我喜欢什么
Agent：你喜欢什么呢？是喜欢钓鱼、看电影，还是和有趣的人聊天呀？感觉你对这些都挺有热情的～想具体聊聊哪个呢？
用户：我喜欢的人
Agent：你喜欢的人啊，是那种让你觉得特别舒服、愿意多了解的类型吗？如果喜欢和有趣的人聊天，那一定很幸福呢～要是有机会，也可以一起分享些有趣的经历呀。
用户：你知道我喜欢谁吗
Agent：你指的是你喜欢的人呀？我还不太清楚具体是谁呢～不过如果喜欢的是有趣又温暖的人，那一定很幸福吧！要是愿意聊聊，我很乐意听你说说～
用户：我喜欢婷婷
Agent：你喜欢婷婷啊，听起来她是个很特别的人呢～如果你们相处起来舒服又有趣，那一定很棒！要是想聊聊她的故事，我随时在这儿听你说哦。
用户：嘻嘻嘻
Agent：嘻嘻嘻，看来今天心情很好呀～是不是想到什么有趣的事了？如果想聊聊喜欢的人或者别的，我都在这儿陪着你呢！
用户：我喜欢什么
Agent：你喜欢什么呢？是喜欢钓鱼、看电影，还是和有趣的人聊天呀？感觉你对这些都挺有热情的～想具体聊聊哪个呢？
用户：我喜欢哪个人
Agent：你喜欢哪个人呀？是像婷婷那样让你觉得温暖又特别的人吗？如果愿意的话，可以和我聊聊他/她哦，我很想听听你的故事～
用户：我喜欢吃鱼
Agent：哈哈，喜欢吃鱼啊！看来你是个懂得享受美食的人呢～如果喜欢钓鱼的话，说不定还能自己钓条鱼来吃，想想就挺有意思的！
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户偏好：关键字：钓鱼，看，电影，人，叫，吃，鱼
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：你知道我喜欢什么吗

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/22 - 02:41:48 | 200 |  783.950687ms | 120.245.130.121 | POST     "/agent/chat"
[DEBUG] 2025-12-22 02:42:07 第0个分词被过滤（单字/停用词）：word=我, pos=r
[DEBUG] 2025-12-22 02:42:07 第1个分词被过滤（单字/停用词）：word=喜欢, pos=v
[DEBUG] 2025-12-22 02:42:07 第2个分词保留为关键字：word=玩游戏, pos=n
用户[user123]输入的关键字：玩游戏
longMem: map[keywords:钓鱼，看，电影，人，叫，吃，鱼]
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（按时间从旧到新排序）：
用户：你好啊
Agent：你好呀！今天过得怎么样呀？最近有空的话，可以一起看看电影，或者聊聊你感兴趣的话题，感觉你会喜欢的～
用户：我喜欢什么
Agent：你喜欢什么呢？是喜欢钓鱼、看电影，还是和有趣的人聊天呀？感觉你对这些都挺有热情的～想具体聊聊哪个呢？
用户：我喜欢的人
Agent：你喜欢的人啊，是那种让你觉得特别舒服、愿意多了解的类型吗？如果喜欢和有趣的人聊天，那一定很幸福呢～要是有机会，也可以一起分享些有趣的经历呀。
用户：你知道我喜欢谁吗
Agent：你指的是你喜欢的人呀？我还不太清楚具体是谁呢～不过如果喜欢的是有趣又温暖的人，那一定很幸福吧！要是愿意聊聊，我很乐意听你说说～
用户：我喜欢婷婷
Agent：你喜欢婷婷啊，听起来她是个很特别的人呢～如果你们相处起来舒服又有趣，那一定很棒！要是想聊聊她的故事，我随时在这儿听你说哦。
用户：嘻嘻嘻
Agent：嘻嘻嘻，看来今天心情很好呀～是不是想到什么有趣的事了？如果想聊聊喜欢的人或者别的，我都在这儿陪着你呢！
用户：我喜欢什么
Agent：你喜欢什么呢？是喜欢钓鱼、看电影，还是和有趣的人聊天呀？感觉你对这些都挺有热情的～想具体聊聊哪个呢？
用户：我喜欢哪个人
Agent：你喜欢哪个人呀？是像婷婷那样让你觉得温暖又特别的人吗？如果愿意的话，可以和我聊聊他/她哦，我很想听听你的故事～
用户：我喜欢吃鱼
Agent：哈哈，喜欢吃鱼啊！看来你是个懂得享受美食的人呢～如果喜欢钓鱼的话，说不定还能自己钓条鱼来吃，想想就挺有意思的！
用户：你知道我喜欢什么吗
Agent：你知道你喜欢什么呀？是钓鱼、看电影，还是和有趣的人聊天呢？感觉你对这些都挺有热情的～如果想聊聊喜欢的事，我随时陪着你哦！
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户偏好：关键字：钓鱼，看，电影，人，叫，吃，鱼
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：我喜欢玩游戏

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/22 - 02:42:08 | 200 |  607.715646ms | 120.245.130.121 | POST     "/agent/chat"
[DEBUG] 2025-12-22 02:42:24 第0个分词保留为关键字：word=帮, pos=v
[DEBUG] 2025-12-22 02:42:24 第1个分词被过滤（单字/停用词）：word=我, pos=r
[DEBUG] 2025-12-22 02:42:24 第2个分词保留为关键字：word=列举, pos=v
[DEBUG] 2025-12-22 02:42:24 第3个分词被过滤（非偏好词性）：word=一些, pos=m
[DEBUG] 2025-12-22 02:42:24 第4个分词被过滤（非偏好词性）：word=常见, pos=a
[DEBUG] 2025-12-22 02:42:24 第5个分词被过滤（单字/停用词）：word=的, pos=uj
[DEBUG] 2025-12-22 02:42:24 第6个分词保留为关键字：word=游戏, pos=n
用户[user123]输入的关键字：帮，列举，游戏
longMem: map[keywords:钓鱼，看，电影，人，叫，吃，鱼，玩游戏]
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（按时间从旧到新排序）：
用户：你好啊
Agent：你好呀！今天过得怎么样呀？最近有空的话，可以一起看看电影，或者聊聊你感兴趣的话题，感觉你会喜欢的～
用户：我喜欢什么
Agent：你喜欢什么呢？是喜欢钓鱼、看电影，还是和有趣的人聊天呀？感觉你对这些都挺有热情的～想具体聊聊哪个呢？
用户：我喜欢的人
Agent：你喜欢的人啊，是那种让你觉得特别舒服、愿意多了解的类型吗？如果喜欢和有趣的人聊天，那一定很幸福呢～要是有机会，也可以一起分享些有趣的经历呀。
用户：你知道我喜欢谁吗
Agent：你指的是你喜欢的人呀？我还不太清楚具体是谁呢～不过如果喜欢的是有趣又温暖的人，那一定很幸福吧！要是愿意聊聊，我很乐意听你说说～
用户：我喜欢婷婷
Agent：你喜欢婷婷啊，听起来她是个很特别的人呢～如果你们相处起来舒服又有趣，那一定很棒！要是想聊聊她的故事，我随时在这儿听你说哦。
用户：嘻嘻嘻
Agent：嘻嘻嘻，看来今天心情很好呀～是不是想到什么有趣的事了？如果想聊聊喜欢的人或者别的，我都在这儿陪着你呢！
用户：我喜欢什么
Agent：你喜欢什么呢？是喜欢钓鱼、看电影，还是和有趣的人聊天呀？感觉你对这些都挺有热情的～想具体聊聊哪个呢？
用户：我喜欢哪个人
Agent：你喜欢哪个人呀？是像婷婷那样让你觉得温暖又特别的人吗？如果愿意的话，可以和我聊聊他/她哦，我很想听听你的故事～
用户：我喜欢吃鱼
Agent：哈哈，喜欢吃鱼啊！看来你是个懂得享受美食的人呢～如果喜欢钓鱼的话，说不定还能自己钓条鱼来吃，想想就挺有意思的！
用户：你知道我喜欢什么吗
Agent：你知道你喜欢什么呀？是钓鱼、看电影，还是和有趣的人聊天呢？感觉你对这些都挺有热情的～如果想聊聊喜欢的事，我随时陪着你哦！
用户：我喜欢玩游戏
Agent：你喜欢玩游戏啊，看来是个爱玩又会享受的人呢！平时喜欢什么类型的游戏呀？要是喜欢轻松一点的，说不定还能和朋友一起玩，感觉挺有意思的～
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户偏好：关键字：钓鱼，看，电影，人，叫，吃，鱼，玩游戏
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：帮我列举一些常见的游戏

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/22 - 02:42:25 | 200 |  698.561381ms | 120.245.130.121 | POST     "/agent/chat"
[GIN] 2025/12/22 - 12:27:07 | 404 |       1.603µs |  111.206.214.25 | GET      "/favicon.ico"
[GIN] 2025/12/22 - 12:27:12 | 200 |    3.649808ms |  111.206.214.25 | GET      "/"
[GIN] 2025/12/22 - 12:27:12 | 404 |       2.164µs |  111.206.214.25 | GET      "/favicon.ico"
[GIN] 2025/12/22 - 15:30:22 | 404 |       1.923µs |  111.206.214.13 | GET      "/favicon.ico"
[GIN] 2025/12/22 - 15:30:30 | 200 |      422.45µs |  111.206.214.13 | GET      "/"
[GIN] 2025/12/22 - 15:41:21 | 404 |       1.683µs | 221.216.117.251 | GET      "/favicon.ico"
[GIN] 2025/12/22 - 15:41:30 | 404 |       3.967µs | 221.216.117.251 | POST     "/"
[GIN] 2025/12/22 - 15:41:49 | 200 |     469.575µs | 221.216.117.251 | GET      "/"
[DEBUG] 2025-12-22 15:42:11 第0个分词被过滤（单字/停用词）：word=推荐, pos=v
[DEBUG] 2025-12-22 15:42:11 第1个分词被过滤（单字/停用词）：word=一款, pos=m
[DEBUG] 2025-12-22 15:42:11 第2个分词被过滤（单字/停用词）：word=适合, pos=v
[DEBUG] 2025-12-22 15:42:11 第3个分词被过滤（单字/停用词）：word=我, pos=r
[DEBUG] 2025-12-22 15:42:11 第4个分词被过滤（单字/停用词）：word=的, pos=uj
[DEBUG] 2025-12-22 15:42:11 第5个分词保留为关键字：word=饮品, pos=n
用户[user123]输入的关键字：饮品
longMem: map[keywords:钓鱼，看，电影，人，叫，吃，鱼，玩游戏，帮，列举，游戏]
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（按时间从旧到新排序）：
用户：你好啊
Agent：你好呀！今天过得怎么样呀？最近有空的话，可以一起看看电影，或者聊聊你感兴趣的话题，感觉你会喜欢的～
用户：我喜欢什么
Agent：你喜欢什么呢？是喜欢钓鱼、看电影，还是和有趣的人聊天呀？感觉你对这些都挺有热情的～想具体聊聊哪个呢？
用户：我喜欢的人
Agent：你喜欢的人啊，是那种让你觉得特别舒服、愿意多了解的类型吗？如果喜欢和有趣的人聊天，那一定很幸福呢～要是有机会，也可以一起分享些有趣的经历呀。
用户：你知道我喜欢谁吗
Agent：你指的是你喜欢的人呀？我还不太清楚具体是谁呢～不过如果喜欢的是有趣又温暖的人，那一定很幸福吧！要是愿意聊聊，我很乐意听你说说～
用户：我喜欢婷婷
Agent：你喜欢婷婷啊，听起来她是个很特别的人呢～如果你们相处起来舒服又有趣，那一定很棒！要是想聊聊她的故事，我随时在这儿听你说哦。
用户：嘻嘻嘻
Agent：嘻嘻嘻，看来今天心情很好呀～是不是想到什么有趣的事了？如果想聊聊喜欢的人或者别的，我都在这儿陪着你呢！
用户：我喜欢什么
Agent：你喜欢什么呢？是喜欢钓鱼、看电影，还是和有趣的人聊天呀？感觉你对这些都挺有热情的～想具体聊聊哪个呢？
用户：我喜欢哪个人
Agent：你喜欢哪个人呀？是像婷婷那样让你觉得温暖又特别的人吗？如果愿意的话，可以和我聊聊他/她哦，我很想听听你的故事～
用户：我喜欢吃鱼
Agent：哈哈，喜欢吃鱼啊！看来你是个懂得享受美食的人呢～如果喜欢钓鱼的话，说不定还能自己钓条鱼来吃，想想就挺有意思的！
用户：你知道我喜欢什么吗
Agent：你知道你喜欢什么呀？是钓鱼、看电影，还是和有趣的人聊天呢？感觉你对这些都挺有热情的～如果想聊聊喜欢的事，我随时陪着你哦！
用户：我喜欢玩游戏
Agent：你喜欢玩游戏啊，看来是个爱玩又会享受的人呢！平时喜欢什么类型的游戏呀？要是喜欢轻松一点的，说不定还能和朋友一起玩，感觉挺有意思的～
用户：帮我列举一些常见的游戏
Agent：当然可以！常见的游戏有很多，比如《王者荣耀》《原神》《和平精英》《动物森友会》《我的世界》等等，都是很多人喜欢的类型。如果你喜欢轻松一点的，这些都不错哦～要是想聊聊游戏，我随时陪你！
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户偏好：关键字：钓鱼，看，电影，人，叫，吃，鱼，玩游戏，帮，列举，游戏
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：推荐一款适合我的饮品

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/22 - 15:42:12 | 200 |  920.995422ms | 221.216.117.251 | POST     "/agent/chat"
[DEBUG] 2025-12-22 15:42:28 第0个分词保留为关键字：word=做, pos=v
[DEBUG] 2025-12-22 15:42:28 第1个分词被过滤（单字/停用词）：word=我, pos=r
[DEBUG] 2025-12-22 15:42:28 第2个分词保留为关键字：word=女朋友, pos=n
用户[user123]输入的关键字：做，女朋友
longMem: map[keywords:钓鱼，看，电影，人，叫，吃，鱼，玩游戏，帮，列举，游戏，饮品]
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（按时间从旧到新排序）：
用户：你好啊
Agent：你好呀！今天过得怎么样呀？最近有空的话，可以一起看看电影，或者聊聊你感兴趣的话题，感觉你会喜欢的～
用户：我喜欢什么
Agent：你喜欢什么呢？是喜欢钓鱼、看电影，还是和有趣的人聊天呀？感觉你对这些都挺有热情的～想具体聊聊哪个呢？
用户：我喜欢的人
Agent：你喜欢的人啊，是那种让你觉得特别舒服、愿意多了解的类型吗？如果喜欢和有趣的人聊天，那一定很幸福呢～要是有机会，也可以一起分享些有趣的经历呀。
用户：你知道我喜欢谁吗
Agent：你指的是你喜欢的人呀？我还不太清楚具体是谁呢～不过如果喜欢的是有趣又温暖的人，那一定很幸福吧！要是愿意聊聊，我很乐意听你说说～
用户：我喜欢婷婷
Agent：你喜欢婷婷啊，听起来她是个很特别的人呢～如果你们相处起来舒服又有趣，那一定很棒！要是想聊聊她的故事，我随时在这儿听你说哦。
用户：嘻嘻嘻
Agent：嘻嘻嘻，看来今天心情很好呀～是不是想到什么有趣的事了？如果想聊聊喜欢的人或者别的，我都在这儿陪着你呢！
用户：我喜欢什么
Agent：你喜欢什么呢？是喜欢钓鱼、看电影，还是和有趣的人聊天呀？感觉你对这些都挺有热情的～想具体聊聊哪个呢？
用户：我喜欢哪个人
Agent：你喜欢哪个人呀？是像婷婷那样让你觉得温暖又特别的人吗？如果愿意的话，可以和我聊聊他/她哦，我很想听听你的故事～
用户：我喜欢吃鱼
Agent：哈哈，喜欢吃鱼啊！看来你是个懂得享受美食的人呢～如果喜欢钓鱼的话，说不定还能自己钓条鱼来吃，想想就挺有意思的！
用户：你知道我喜欢什么吗
Agent：你知道你喜欢什么呀？是钓鱼、看电影，还是和有趣的人聊天呢？感觉你对这些都挺有热情的～如果想聊聊喜欢的事，我随时陪着你哦！
用户：我喜欢玩游戏
Agent：你喜欢玩游戏啊，看来是个爱玩又会享受的人呢！平时喜欢什么类型的游戏呀？要是喜欢轻松一点的，说不定还能和朋友一起玩，感觉挺有意思的～
用户：帮我列举一些常见的游戏
Agent：当然可以！常见的游戏有很多，比如《王者荣耀》《原神》《和平精英》《动物森友会》《我的世界》等等，都是很多人喜欢的类型。如果你喜欢轻松一点的，这些都不错哦～要是想聊聊游戏，我随时陪你！
用户：推荐一款适合我的饮品
Agent：你喜欢玩游戏，看来是个爱玩又会享受的人呢！推荐你试试清爽的柠檬水或者气泡饮，解渴又提神，玩游戏时喝刚刚好～要是喜欢甜一点的，也可以试试果茶哦！
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户偏好：关键字：钓鱼，看，电影，人，叫，吃，鱼，玩游戏，帮，列举，游戏，饮品
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：做我女朋友

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/22 - 15:42:29 | 200 |  863.983547ms | 221.216.117.251 | POST     "/agent/chat"
[GIN] 2025/12/22 - 15:43:33 | 200 |     324.521µs | 221.216.117.251 | GET      "/"
[GIN] 2025/12/22 - 22:49:27 | 200 |      214.53µs | 120.245.130.121 | GET      "/"
[GIN] 2025/12/22 - 22:49:48 | 200 |     272.318µs | 120.245.130.121 | GET      "/"
[GIN] 2025/12/22 - 22:49:50 | 200 |     452.114µs | 120.245.130.121 | GET      "/"
=== Go AI Agent服务启动成功 ===
Web页面访问地址：http://本机IP:8080 或 http://localhost:8080
HTTPS服务启动：https://127.0.0.1:8443
[GIN] 2025/12/22 - 22:50:44 | 200 |    2.387376ms | 120.245.130.121 | GET      "/"
[GIN] 2025/12/22 - 22:50:46 | 200 |     336.247µs | 120.245.130.121 | GET      "/"
[GIN] 2025/12/22 - 22:50:47 | 200 |     248.033µs | 120.245.130.121 | GET      "/"
[GIN] 2025/12/22 - 22:50:47 | 200 |     430.894µs | 120.245.130.121 | GET      "/"
[GIN] 2025/12/22 - 22:50:47 | 200 |     186.197µs | 120.245.130.121 | GET      "/"
[GIN] 2025/12/22 - 22:50:47 | 200 |     235.479µs | 120.245.130.121 | GET      "/"
[DEBUG] 2025-12-22 22:50:50 第0个分词被过滤（单字/停用词）：word=推荐, pos=v
[DEBUG] 2025-12-22 22:50:50 第1个分词被过滤（单字/停用词）：word=一款, pos=m
[DEBUG] 2025-12-22 22:50:50 第2个分词被过滤（单字/停用词）：word=适合, pos=v
[DEBUG] 2025-12-22 22:50:50 第3个分词被过滤（单字/停用词）：word=我, pos=r
[DEBUG] 2025-12-22 22:50:50 第4个分词被过滤（单字/停用词）：word=的, pos=uj
[DEBUG] 2025-12-22 22:50:50 第5个分词保留为关键字：word=饮品, pos=n
用户[user123]输入的关键字：饮品
longMem: map[keywords:钓鱼，看，电影，人，叫，吃，鱼，玩游戏，帮，列举，游戏，饮品，做，女朋友]
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（按时间从旧到新排序）：
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户偏好：关键字：钓鱼，看，电影，人，叫，吃，鱼，玩游戏，帮，列举，游戏，饮品，做，女朋友
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：推荐一款适合我的饮品

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/22 - 22:50:51 | 200 |  1.540351581s | 120.245.130.121 | POST     "/agent/chat"
[GIN] 2025/12/22 - 22:51:16 | 200 |     270.956µs | 120.245.130.121 | GET      "/"
=== Go AI Agent服务启动成功 ===
Web页面访问地址：http://localhost:8443
[GIN] 2025/12/22 - 23:34:16 | 200 |    2.766993ms | 120.245.130.121 | GET      "/"
用户[user123]新提取的关键词：无
用户[user123]长期保存的关键词（最多50个）：无
longMem: map[keywords:钓鱼，看，电影，人，叫，吃，鱼，玩游戏，帮，列举，游戏，饮品，做，女朋友]
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（最近10轮，按时间从旧到新排序）：无历史对话
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户偏好：关键字：钓鱼，看，电影，人，叫，吃，鱼，玩游戏，帮，列举，游戏，饮品，做，女朋友
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：推荐一款适合我的饮品

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/22 - 23:34:20 | 200 |   1.46178225s | 120.245.130.121 | POST     "/agent/chat"
用户[user123]新提取的关键词：无
用户[user123]长期保存的关键词（最多50个）：无
longMem: map[keywords:玩游戏，游戏，看电影，人，叫，鱼，列举，钓鱼，电影，吃，做，看，帮，饮品，女朋友]
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（最近10轮，按时间从旧到新排序）：第1轮：用户输入=推荐一款适合我的饮品，AI回复=你喜欢钓鱼、看电影，还爱玩游戏，看来是个很会享受生活的人呀！推荐你试试清爽的柠檬苏打水，解渴又提神，配电影或游戏都很合适～要是想换个口味，也可以试试果茶，轻松又惬意！；
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户偏好：关键字：玩游戏，游戏，看电影，人，叫，鱼，列举，钓鱼，电影，吃，做，看，帮，饮品，女朋友
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：我喜欢你

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/22 - 23:34:51 | 200 |  1.054192878s | 120.245.130.121 | POST     "/agent/chat"
=== Go AI Agent服务启动成功 ===
Web页面访问地址：http://localhost:8443
[GIN] 2025/12/22 - 23:35:51 | 200 |    2.489706ms | 120.245.130.121 | GET      "/"
用户[user123]新提取的关键词：无
用户[user123]长期保存的关键词（最多50个）：无
longMem: map[]
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（最近10轮，按时间从旧到新排序）：无历史对话
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户暂无偏好信息
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：我喜欢打篮球

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/22 - 23:36:07 | 200 |  923.152287ms | 120.245.130.121 | POST     "/agent/chat"
用户[user123]新提取的关键词：无
用户[user123]长期保存的关键词（最多50个）：无
longMem: map[keywords:打篮球]
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（最近10轮，按时间从旧到新排序）：第1轮：用户输入=我喜欢打篮球，AI回复=听起来你是个运动达人呀！打篮球不仅锻炼身体，还能让人特别有活力。平时经常打球吗？有没有特别喜欢的球队或者球星？；
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户偏好：关键字：打篮球
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：我喜欢肤白貌美大长腿

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/22 - 23:37:06 | 200 |  2.022325384s | 120.245.130.121 | POST     "/agent/chat"
用户[user123]新提取的关键词：无
用户[user123]长期保存的关键词（最多50个）：无
longMem: map[keywords:打篮球，肤白貌美大长腿]
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（最近10轮，按时间从旧到新排序）：第1轮：用户输入=我喜欢打篮球，AI回复=听起来你是个运动达人呀！打篮球不仅锻炼身体，还能让人特别有活力。平时经常打球吗？有没有特别喜欢的球队或者球星？；第2轮：用户输入=我喜欢肤白貌美大长腿，AI回复=听起来你对自己的要求可真高呀！不过啊，打篮球的人往往也特别有气质，说不定你打球时也特别有范儿呢～要不要聊聊你平时怎么保持状态的？；
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户偏好：关键字：打篮球，肤白貌美大长腿
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：我喜欢肤白貌美大长腿的女孩

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/22 - 23:37:21 | 200 |  997.954774ms | 120.245.130.121 | POST     "/agent/chat"
用户[user123]新提取的关键词：无
用户[user123]长期保存的关键词（最多50个）：无
longMem: map[keywords:打篮球，肤白貌美大长腿]
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（最近10轮，按时间从旧到新排序）：第1轮：用户输入=我喜欢打篮球，AI回复=听起来你是个运动达人呀！打篮球不仅锻炼身体，还能让人特别有活力。平时经常打球吗？有没有特别喜欢的球队或者球星？；第2轮：用户输入=我喜欢肤白貌美大长腿，AI回复=听起来你对自己的要求可真高呀！不过啊，打篮球的人往往也特别有气质，说不定你打球时也特别有范儿呢～要不要聊聊你平时怎么保持状态的？；第3轮：用户输入=我喜欢肤白貌美大长腿的女孩，AI回复=听起来你对美的标准挺有想法呀！不过啊，打篮球的女生也特别有魅力，活力满满又自信，说不定你身边就有这样的女孩呢～；
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户偏好：关键字：打篮球，肤白貌美大长腿
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：我喜欢什么

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/23 - 00:31:32 | 200 |  1.079042684s | 120.245.130.121 | POST     "/agent/chat"
用户[user123]新提取的关键词：无
用户[user123]长期保存的关键词（最多50个）：无
longMem: map[keywords:打篮球，肤白貌美大长腿，篮球]
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（最近10轮，按时间从旧到新排序）：第1轮：用户输入=我喜欢打篮球，AI回复=听起来你是个运动达人呀！打篮球不仅锻炼身体，还能让人特别有活力。平时经常打球吗？有没有特别喜欢的球队或者球星？；第2轮：用户输入=我喜欢肤白貌美大长腿，AI回复=听起来你对自己的要求可真高呀！不过啊，打篮球的人往往也特别有气质，说不定你打球时也特别有范儿呢～要不要聊聊你平时怎么保持状态的？；第3轮：用户输入=我喜欢肤白貌美大长腿的女孩，AI回复=听起来你对美的标准挺有想法呀！不过啊，打篮球的女生也特别有魅力，活力满满又自信，说不定你身边就有这样的女孩呢～；第4轮：用户输入=我喜欢什么，AI回复=听起来你对美的标准挺有自己想法呀！不过啊，打篮球的人往往也特别有气质，说不定你打球时也特别有范儿呢～要不要聊聊你平时怎么保持状态的？；
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户偏好：关键字：打篮球，肤白貌美大长腿，篮球
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：今天天气如何

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/23 - 00:31:46 | 200 |   997.90634ms | 120.245.130.121 | POST     "/agent/chat"
用户[user123]新提取的关键词：无
用户[user123]长期保存的关键词（最多50个）：无
longMem: map[keywords:篮球，打篮球，肤白貌美大长腿]
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（最近10轮，按时间从旧到新排序）：第1轮：用户输入=我喜欢打篮球，AI回复=听起来你是个运动达人呀！打篮球不仅锻炼身体，还能让人特别有活力。平时经常打球吗？有没有特别喜欢的球队或者球星？；第2轮：用户输入=我喜欢肤白貌美大长腿，AI回复=听起来你对自己的要求可真高呀！不过啊，打篮球的人往往也特别有气质，说不定你打球时也特别有范儿呢～要不要聊聊你平时怎么保持状态的？；第3轮：用户输入=我喜欢肤白貌美大长腿的女孩，AI回复=听起来你对美的标准挺有想法呀！不过啊，打篮球的女生也特别有魅力，活力满满又自信，说不定你身边就有这样的女孩呢～；第4轮：用户输入=我喜欢什么，AI回复=听起来你对美的标准挺有自己想法呀！不过啊，打篮球的人往往也特别有气质，说不定你打球时也特别有范儿呢～要不要聊聊你平时怎么保持状态的？；第5轮：用户输入=今天天气如何，AI回复=今天天气不错，阳光正好，适合出门活动啦！你不是喜欢打篮球吗？这样的天气打球正合适，既不热也不冷，感觉整个人都充满了活力～；
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户偏好：关键字：篮球，打篮球，肤白貌美大长腿
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：我喜欢美女

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/23 - 00:32:02 | 200 |  975.891677ms | 120.245.130.121 | POST     "/agent/chat"
用户[user123]新提取的关键词：无
用户[user123]长期保存的关键词（最多50个）：无
longMem: map[keywords:篮球，打篮球，肤白貌美大长腿]
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（最近10轮，按时间从旧到新排序）：第1轮：用户输入=我喜欢打篮球，AI回复=听起来你是个运动达人呀！打篮球不仅锻炼身体，还能让人特别有活力。平时经常打球吗？有没有特别喜欢的球队或者球星？；第2轮：用户输入=我喜欢肤白貌美大长腿，AI回复=听起来你对自己的要求可真高呀！不过啊，打篮球的人往往也特别有气质，说不定你打球时也特别有范儿呢～要不要聊聊你平时怎么保持状态的？；第3轮：用户输入=我喜欢肤白貌美大长腿的女孩，AI回复=听起来你对美的标准挺有想法呀！不过啊，打篮球的女生也特别有魅力，活力满满又自信，说不定你身边就有这样的女孩呢～；第4轮：用户输入=我喜欢什么，AI回复=听起来你对美的标准挺有自己想法呀！不过啊，打篮球的人往往也特别有气质，说不定你打球时也特别有范儿呢～要不要聊聊你平时怎么保持状态的？；第5轮：用户输入=今天天气如何，AI回复=今天天气不错，阳光正好，适合出门活动啦！你不是喜欢打篮球吗？这样的天气打球正合适，既不热也不冷，感觉整个人都充满了活力～；第6轮：用户输入=我喜欢美女，AI回复=听起来你对美的标准挺有感觉呀！不过啊，打篮球的人往往也特别有气质，活力满满又自信，说不定你身边就有这样的女孩呢～要不要聊聊你平时怎么保持状态的？；
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户偏好：关键字：篮球，打篮球，肤白貌美大长腿
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：我喜欢美女

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/23 - 00:32:08 | 200 |  1.086030024s | 120.245.130.121 | POST     "/agent/chat"
用户[user123]新提取的关键词：无
用户[user123]长期保存的关键词（最多50个）：无
longMem: map[keywords:篮球，打篮球，肤白貌美大长腿]
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（最近10轮，按时间从旧到新排序）：第1轮：用户输入=我喜欢打篮球，AI回复=听起来你是个运动达人呀！打篮球不仅锻炼身体，还能让人特别有活力。平时经常打球吗？有没有特别喜欢的球队或者球星？；第2轮：用户输入=我喜欢肤白貌美大长腿，AI回复=听起来你对自己的要求可真高呀！不过啊，打篮球的人往往也特别有气质，说不定你打球时也特别有范儿呢～要不要聊聊你平时怎么保持状态的？；第3轮：用户输入=我喜欢肤白貌美大长腿的女孩，AI回复=听起来你对美的标准挺有想法呀！不过啊，打篮球的女生也特别有魅力，活力满满又自信，说不定你身边就有这样的女孩呢～；第4轮：用户输入=我喜欢什么，AI回复=听起来你对美的标准挺有自己想法呀！不过啊，打篮球的人往往也特别有气质，说不定你打球时也特别有范儿呢～要不要聊聊你平时怎么保持状态的？；第5轮：用户输入=今天天气如何，AI回复=今天天气不错，阳光正好，适合出门活动啦！你不是喜欢打篮球吗？这样的天气打球正合适，既不热也不冷，感觉整个人都充满了活力～；第6轮：用户输入=我喜欢美女，AI回复=听起来你对美的标准挺有感觉呀！不过啊，打篮球的人往往也特别有气质，活力满满又自信，说不定你身边就有这样的女孩呢～要不要聊聊你平时怎么保持状态的？；第7轮：用户输入=我喜欢美女，AI回复=听起来你对美的标准挺有感觉呀！不过啊，打篮球的人往往也特别有气质，活力满满又自信，说不定你身边就有这样的女孩呢～要不要聊聊你平时怎么保持状态的？；
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户偏好：关键字：篮球，打篮球，肤白貌美大长腿
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：我喜欢什么

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/23 - 00:32:26 | 200 |  1.186381313s | 120.245.130.121 | POST     "/agent/chat"
用户[user123]新提取的关键词：无
用户[user123]长期保存的关键词（最多50个）：无
longMem: map[keywords:篮球，打篮球，肤白貌美大长腿]
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（最近10轮，按时间从旧到新排序）：第1轮：用户输入=我喜欢打篮球，AI回复=听起来你是个运动达人呀！打篮球不仅锻炼身体，还能让人特别有活力。平时经常打球吗？有没有特别喜欢的球队或者球星？；第2轮：用户输入=我喜欢肤白貌美大长腿，AI回复=听起来你对自己的要求可真高呀！不过啊，打篮球的人往往也特别有气质，说不定你打球时也特别有范儿呢～要不要聊聊你平时怎么保持状态的？；第3轮：用户输入=我喜欢肤白貌美大长腿的女孩，AI回复=听起来你对美的标准挺有想法呀！不过啊，打篮球的女生也特别有魅力，活力满满又自信，说不定你身边就有这样的女孩呢～；第4轮：用户输入=我喜欢什么，AI回复=听起来你对美的标准挺有自己想法呀！不过啊，打篮球的人往往也特别有气质，说不定你打球时也特别有范儿呢～要不要聊聊你平时怎么保持状态的？；第5轮：用户输入=今天天气如何，AI回复=今天天气不错，阳光正好，适合出门活动啦！你不是喜欢打篮球吗？这样的天气打球正合适，既不热也不冷，感觉整个人都充满了活力～；第6轮：用户输入=我喜欢美女，AI回复=听起来你对美的标准挺有感觉呀！不过啊，打篮球的人往往也特别有气质，活力满满又自信，说不定你身边就有这样的女孩呢～要不要聊聊你平时怎么保持状态的？；第7轮：用户输入=我喜欢美女，AI回复=听起来你对美的标准挺有感觉呀！不过啊，打篮球的人往往也特别有气质，活力满满又自信，说不定你身边就有这样的女孩呢～要不要聊聊你平时怎么保持状态的？；第8轮：用户输入=我喜欢什么，AI回复=听起来你对美的标准挺有自己想法呀！不过啊，打篮球的人往往也特别有气质，活力满满又自信，说不定你打球时也特别有范儿呢～要不要聊聊你平时怎么保持状态的？；
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户偏好：关键字：篮球，打篮球，肤白貌美大长腿
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：今天天气？

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/23 - 00:32:38 | 200 |   906.56143ms | 120.245.130.121 | POST     "/agent/chat"
用户[user123]新提取的关键词：无
用户[user123]长期保存的关键词（最多50个）：无
longMem: map[keywords:肤白貌美大长腿，篮球，打篮球]
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（最近10轮，按时间从旧到新排序）：第1轮：用户输入=我喜欢打篮球，AI回复=听起来你是个运动达人呀！打篮球不仅锻炼身体，还能让人特别有活力。平时经常打球吗？有没有特别喜欢的球队或者球星？；第2轮：用户输入=我喜欢肤白貌美大长腿，AI回复=听起来你对自己的要求可真高呀！不过啊，打篮球的人往往也特别有气质，说不定你打球时也特别有范儿呢～要不要聊聊你平时怎么保持状态的？；第3轮：用户输入=我喜欢肤白貌美大长腿的女孩，AI回复=听起来你对美的标准挺有想法呀！不过啊，打篮球的女生也特别有魅力，活力满满又自信，说不定你身边就有这样的女孩呢～；第4轮：用户输入=我喜欢什么，AI回复=听起来你对美的标准挺有自己想法呀！不过啊，打篮球的人往往也特别有气质，说不定你打球时也特别有范儿呢～要不要聊聊你平时怎么保持状态的？；第5轮：用户输入=今天天气如何，AI回复=今天天气不错，阳光正好，适合出门活动啦！你不是喜欢打篮球吗？这样的天气打球正合适，既不热也不冷，感觉整个人都充满了活力～；第6轮：用户输入=我喜欢美女，AI回复=听起来你对美的标准挺有感觉呀！不过啊，打篮球的人往往也特别有气质，活力满满又自信，说不定你身边就有这样的女孩呢～要不要聊聊你平时怎么保持状态的？；第7轮：用户输入=我喜欢美女，AI回复=听起来你对美的标准挺有感觉呀！不过啊，打篮球的人往往也特别有气质，活力满满又自信，说不定你身边就有这样的女孩呢～要不要聊聊你平时怎么保持状态的？；第8轮：用户输入=我喜欢什么，AI回复=听起来你对美的标准挺有自己想法呀！不过啊，打篮球的人往往也特别有气质，活力满满又自信，说不定你打球时也特别有范儿呢～要不要聊聊你平时怎么保持状态的？；第9轮：用户输入=今天天气？，AI回复=今天天气不错，阳光正好，适合出门活动啦！你不是喜欢打篮球吗？这样的天气打球正合适，既不热也不冷，感觉整个人都充满了活力～；
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户偏好：关键字：肤白貌美大长腿，篮球，打篮球
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：我喜欢吃鱼

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/23 - 00:32:49 | 200 |  994.621421ms | 120.245.130.121 | POST     "/agent/chat"
用户[user123]新提取的关键词：无
用户[user123]长期保存的关键词（最多50个）：无
longMem: map[keywords:吃鱼，肤白貌美大长腿，篮球，打篮球]
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（最近10轮，按时间从旧到新排序）：第1轮：用户输入=我喜欢打篮球，AI回复=听起来你是个运动达人呀！打篮球不仅锻炼身体，还能让人特别有活力。平时经常打球吗？有没有特别喜欢的球队或者球星？；第2轮：用户输入=我喜欢肤白貌美大长腿，AI回复=听起来你对自己的要求可真高呀！不过啊，打篮球的人往往也特别有气质，说不定你打球时也特别有范儿呢～要不要聊聊你平时怎么保持状态的？；第3轮：用户输入=我喜欢肤白貌美大长腿的女孩，AI回复=听起来你对美的标准挺有想法呀！不过啊，打篮球的女生也特别有魅力，活力满满又自信，说不定你身边就有这样的女孩呢～；第4轮：用户输入=我喜欢什么，AI回复=听起来你对美的标准挺有自己想法呀！不过啊，打篮球的人往往也特别有气质，说不定你打球时也特别有范儿呢～要不要聊聊你平时怎么保持状态的？；第5轮：用户输入=今天天气如何，AI回复=今天天气不错，阳光正好，适合出门活动啦！你不是喜欢打篮球吗？这样的天气打球正合适，既不热也不冷，感觉整个人都充满了活力～；第6轮：用户输入=我喜欢美女，AI回复=听起来你对美的标准挺有感觉呀！不过啊，打篮球的人往往也特别有气质，活力满满又自信，说不定你身边就有这样的女孩呢～要不要聊聊你平时怎么保持状态的？；第7轮：用户输入=我喜欢美女，AI回复=听起来你对美的标准挺有感觉呀！不过啊，打篮球的人往往也特别有气质，活力满满又自信，说不定你身边就有这样的女孩呢～要不要聊聊你平时怎么保持状态的？；第8轮：用户输入=我喜欢什么，AI回复=听起来你对美的标准挺有自己想法呀！不过啊，打篮球的人往往也特别有气质，活力满满又自信，说不定你打球时也特别有范儿呢～要不要聊聊你平时怎么保持状态的？；第9轮：用户输入=今天天气？，AI回复=今天天气不错，阳光正好，适合出门活动啦！你不是喜欢打篮球吗？这样的天气打球正合适，既不热也不冷，感觉整个人都充满了活力～；第10轮：用户输入=我喜欢吃鱼，AI回复=听起来你是个美食爱好者呀！吃鱼可是个好选择，营养又美味～不过你平时打球的时候，是不是也喜欢边运动边补充点蛋白质呢？；
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户偏好：关键字：吃鱼，肤白貌美大长腿，篮球，打篮球
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：我喜欢看电视

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/23 - 00:34:21 | 200 |  1.454893372s | 120.245.130.121 | POST     "/agent/chat"
用户[user123]新提取的关键词：无
用户[user123]长期保存的关键词（最多50个）：无
longMem: map[keywords:吃鱼，肤白貌美大长腿，篮球，打篮球，看电视]
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（最近10轮，按时间从旧到新排序）：第1轮：用户输入=我喜欢肤白貌美大长腿，AI回复=听起来你对自己的要求可真高呀！不过啊，打篮球的人往往也特别有气质，说不定你打球时也特别有范儿呢～要不要聊聊你平时怎么保持状态的？；第2轮：用户输入=我喜欢肤白貌美大长腿的女孩，AI回复=听起来你对美的标准挺有想法呀！不过啊，打篮球的女生也特别有魅力，活力满满又自信，说不定你身边就有这样的女孩呢～；第3轮：用户输入=我喜欢什么，AI回复=听起来你对美的标准挺有自己想法呀！不过啊，打篮球的人往往也特别有气质，说不定你打球时也特别有范儿呢～要不要聊聊你平时怎么保持状态的？；第4轮：用户输入=今天天气如何，AI回复=今天天气不错，阳光正好，适合出门活动啦！你不是喜欢打篮球吗？这样的天气打球正合适，既不热也不冷，感觉整个人都充满了活力～；第5轮：用户输入=我喜欢美女，AI回复=听起来你对美的标准挺有感觉呀！不过啊，打篮球的人往往也特别有气质，活力满满又自信，说不定你身边就有这样的女孩呢～要不要聊聊你平时怎么保持状态的？；第6轮：用户输入=我喜欢美女，AI回复=听起来你对美的标准挺有感觉呀！不过啊，打篮球的人往往也特别有气质，活力满满又自信，说不定你身边就有这样的女孩呢～要不要聊聊你平时怎么保持状态的？；第7轮：用户输入=我喜欢什么，AI回复=听起来你对美的标准挺有自己想法呀！不过啊，打篮球的人往往也特别有气质，活力满满又自信，说不定你打球时也特别有范儿呢～要不要聊聊你平时怎么保持状态的？；第8轮：用户输入=今天天气？，AI回复=今天天气不错，阳光正好，适合出门活动啦！你不是喜欢打篮球吗？这样的天气打球正合适，既不热也不冷，感觉整个人都充满了活力～；第9轮：用户输入=我喜欢吃鱼，AI回复=听起来你是个美食爱好者呀！吃鱼可是个好选择，营养又美味～不过你平时打球的时候，是不是也喜欢边运动边补充点蛋白质呢？；第10轮：用户输入=我喜欢看电视，AI回复=听起来你是个喜欢放松的人呀！看电视是个不错的休闲方式，偶尔追剧或者看些有趣的节目，既能放松心情又能打发时间～不过你平时打球的时候，是不是也喜欢边运动边听点音乐或者看点比赛呢？；
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户偏好：关键字：吃鱼，肤白貌美大长腿，篮球，打篮球，看电视
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：我喜欢看书

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/23 - 00:34:42 | 200 |  1.111173651s | 120.245.130.121 | POST     "/agent/chat"
=== Go AI Agent服务启动成功 ===
Web页面访问地址：http://localhost:8443
[GIN] 2025/12/23 - 00:56:29 | 200 |    2.510229ms | 120.245.130.121 | GET      "/"
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（最近10轮，按时间从旧到新排序）：第1轮用户输入：推荐一款适合我的饮品；
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户暂无偏好信息
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：推荐一款适合我的饮品

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/23 - 00:56:32 | 200 |  882.156873ms | 120.245.130.121 | POST     "/agent/chat"
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（最近10轮，按时间从旧到新排序）：第1轮用户输入：推荐一款适合我的饮品；第2轮用户输入：我喜欢吃鱼；
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户暂无偏好信息
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：我喜欢吃鱼

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/23 - 00:57:01 | 200 |  817.949985ms | 120.245.130.121 | POST     "/agent/chat"
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（最近10轮，按时间从旧到新排序）：第1轮用户输入：推荐一款适合我的饮品；第2轮用户输入：我喜欢吃鱼；第3轮用户输入：我喜欢看电视；
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户暂无偏好信息
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：我喜欢看电视

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/23 - 00:57:28 | 200 |  862.233227ms | 120.245.130.121 | POST     "/agent/chat"
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（最近10轮，按时间从旧到新排序）：第1轮用户输入：推荐一款适合我的饮品；第2轮用户输入：我喜欢吃鱼；第3轮用户输入：我喜欢看电视；第4轮用户输入：我喜欢看电视；
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户偏好关键词：看电视，吃鱼，钓鱼
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：我喜欢看电视

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/23 - 00:58:18 | 200 |  751.023255ms | 120.245.130.121 | POST     "/agent/chat"
=== Go AI Agent服务启动成功 ===
Web页面访问地址：http://localhost:8443
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（最近10轮，按时间从旧到新排序）：第1轮用户输入：我喜欢看电视；
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户暂无偏好信息
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：我喜欢看电视

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/23 - 01:00:11 | 200 |  653.927684ms | 120.245.130.121 | POST     "/agent/chat"
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（最近10轮，按时间从旧到新排序）：第1轮用户输入：我喜欢看电视；第2轮用户输入：我喜欢看钓鱼；
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户偏好关键词：看电视
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：我喜欢看钓鱼

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/23 - 01:00:25 | 200 |  748.005624ms | 120.245.130.121 | POST     "/agent/chat"
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（最近10轮，按时间从旧到新排序）：第1轮用户输入：我喜欢看电视；第2轮用户输入：我喜欢看钓鱼；第3轮用户输入：我喜欢看大长腿美女；
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户偏好关键词：看电视，钓鱼
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：我喜欢看大长腿美女

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/23 - 01:00:38 | 200 |  852.457364ms | 120.245.130.121 | POST     "/agent/chat"
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（最近10轮，按时间从旧到新排序）：第1轮用户输入：我喜欢看大长腿美女；
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户暂无偏好信息
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：我喜欢看大长腿美女

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/23 - 01:00:50 | 200 |  805.269735ms | 120.245.130.121 | POST     "/agent/chat"
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（最近10轮，按时间从旧到新排序）：第1轮用户输入：我喜欢看大长腿美女；第2轮用户输入：我喜欢看大长腿美女；
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户暂无偏好信息
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：我喜欢看大长腿美女

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/23 - 01:00:59 | 200 |  789.984328ms | 120.245.130.121 | POST     "/agent/chat"
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（最近10轮，按时间从旧到新排序）：第1轮用户输入：我喜欢看大长腿美女；
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户暂无偏好信息
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：我喜欢看大长腿美女

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/23 - 01:01:22 | 200 |  787.410545ms | 120.245.130.121 | POST     "/agent/chat"
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（最近10轮，按时间从旧到新排序）：第1轮用户输入：我喜欢看大长腿美女；第2轮用户输入：我喜欢看大长腿美女；
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户暂无偏好信息
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：我喜欢看大长腿美女

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/23 - 01:02:44 | 200 |  580.167126ms | 120.245.130.121 | POST     "/agent/chat"
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（最近10轮，按时间从旧到新排序）：第1轮用户输入：我喜欢看大长腿美女；第2轮用户输入：我喜欢看大长腿美女；第3轮用户输入：我喜欢看电子游戏；
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户暂无偏好信息
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：我喜欢看电子游戏

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/23 - 01:03:01 | 200 |  738.412164ms | 120.245.130.121 | POST     "/agent/chat"
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（最近10轮，按时间从旧到新排序）：第1轮用户输入：我喜欢看大长腿美女；第2轮用户输入：我喜欢看大长腿美女；第3轮用户输入：我喜欢看电子游戏；第4轮用户输入：我喜欢吃饭；
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户偏好关键词：看大长腿美女，看电子游戏
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：我喜欢吃饭

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/23 - 01:03:19 | 200 |   914.69417ms | 120.245.130.121 | POST     "/agent/chat"
[INFO] 成功加载2个用户的长期记忆
=== Go AI Agent服务启动成功 ===
Web页面访问地址：http://localhost:8443
[INFO] 用户[wuhao]读取长期关键词：看电子游戏，大长腿美女，电子游戏，吃饭，看大长腿美女
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（最近10轮，按时间从旧到新排序）：无历史对话
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户偏好关键词：看电子游戏，大长腿美女，电子游戏，吃饭，看大长腿美女
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：我喜欢吃饭

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[INFO] 用户[wuhao]保存短期记忆（第1轮）：输入=我喜欢吃饭，回复=吃饭可是件幸福的事呀！你平时都喜欢吃什么类型的食物呢？我超喜欢尝试各种美食，要是你有推荐的餐厅或菜品，可以跟我分享一下哦～ 😊
[GIN] 2025/12/23 - 01:11:45 | 200 |    951.5109ms | 120.245.130.121 | POST     "/agent/chat"
[INFO] 用户[wuhao]读取长期关键词：看电子游戏，大长腿美女，电子游戏，吃饭，看大长腿美女
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（最近10轮，按时间从旧到新排序）：第1轮：用户输入=我喜欢吃饭，AI回复=吃饭可是件幸福的事呀！你平时都喜欢吃什么类型的食物呢？我超喜欢尝试各种美食，要是你有推荐的餐厅或菜品，可以跟我分享一下哦～ 😊；
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户偏好关键词：看电子游戏，大长腿美女，电子游戏，吃饭，看大长腿美女
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：我喜欢吃饭

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[INFO] 用户[wuhao]更新长期关键词：看大长腿美女，看电子游戏，大长腿美女，电子游戏，吃饭
[GIN] 2025/12/23 - 01:13:33 | 200 |    3.909206ms | 120.245.130.121 | GET      "/"
[INFO] 持久化目录[data]已存在，跳过创建
[INFO] 长期记忆文件[./data/long_term_memory.json]不存在，初始化空存储
=== Go AI Agent开始服务启动 ===
=== Go AI Agent服务启动成功 ===
Web页面访问地址：http://localhost:8443
2025/12/23 01:37:49 http: TLS handshake error from 127.0.0.1:48748: client sent an HTTP request to an HTTPS server
2025/12/23 01:37:50 http: TLS handshake error from 127.0.0.1:48750: client sent an HTTP request to an HTTPS server
2025/12/23 01:37:52 http: TLS handshake error from 127.0.0.1:48754: client sent an HTTP request to an HTTPS server
2025/12/23 01:37:59 http: TLS handshake error from 127.0.0.1:52054: client sent an HTTP request to an HTTPS server
2025/12/23 01:38:42 http: TLS handshake error from [::1]:35710: local error: tls: bad record MAC
2025/12/23 01:39:11 http: TLS handshake error from 127.0.0.1:44374: client sent an HTTP request to an HTTPS server
2025/12/23 01:39:49 http: TLS handshake error from 127.0.0.1:40756: tls: client offered only unsupported versions: []
[GIN] 2025/12/23 - 01:40:22 | 200 |     2.60738ms | 120.245.130.121 | GET      "/"
[INFO] 用户[user123]无长期记忆
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（最近10轮，按时间从旧到新排序）：第1轮用户输入：推荐一款适合我的饮品；
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户暂无偏好信息
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：推荐一款适合我的饮品

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/23 - 01:40:24 | 200 |   880.24891ms | 120.245.130.121 | POST     "/agent/chat"
[INFO] 用户[user123]无长期记忆
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（最近10轮，按时间从旧到新排序）：第1轮用户输入：推荐一款适合我的饮品；第2轮用户输入：推荐一款适合我的饮品；
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户暂无偏好信息
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：推荐一款适合我的饮品

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/23 - 01:40:43 | 200 |   744.37051ms | 120.245.130.121 | POST     "/agent/chat"
[INFO] 用户[user123]无长期记忆
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（最近10轮，按时间从旧到新排序）：第1轮用户输入：推荐一款适合我的饮品；第2轮用户输入：推荐一款适合我的饮品；第3轮用户输入：我喜欢吃鱼；
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户暂无偏好信息
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：我喜欢吃鱼

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[INFO] 用户[user123]更新长期关键词：吃鱼
[INFO] 持久化目录[data]已存在，跳过创建
[INFO] 长期记忆文件[./data/long_term_memory.json]不存在，初始化空存储
=== Go AI Agent开始服务启动 ===
=== Go AI Agent服务启动成功 ===
Web页面访问地址：http://localhost:8443
[INFO] 用户[user123]无长期记忆
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（最近10轮，按时间从旧到新排序）：第1轮用户输入：我喜欢吃鱼；
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户暂无偏好信息
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：我喜欢吃鱼

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[INFO] 用户[user123]更新长期关键词：吃鱼
[GIN] 2025/12/23 - 01:41:50 | 200 |    2.265605ms | 120.245.130.121 | GET      "/"
[INFO] 持久化目录[data]已存在，跳过创建
[INFO] 长期记忆文件[./data/long_term_memory.json]不存在，初始化空存储
=== Go AI Agent开始服务启动 ===
=== Go AI Agent服务启动成功 ===
Web页面访问地址：http://localhost:8443
[GIN] 2025/12/23 - 01:43:19 | 200 |     2.73494ms | 120.245.130.121 | GET      "/"
[INFO] 用户[user123]无长期记忆
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（最近10轮，按时间从旧到新排序）：第1轮用户输入：推荐一款适合我的饮品；
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户暂无偏好信息
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：推荐一款适合我的饮品

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/23 - 01:43:21 | 200 |  897.047242ms | 120.245.130.121 | POST     "/agent/chat"
[INFO] 用户[user123]无长期记忆
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（最近10轮，按时间从旧到新排序）：第1轮用户输入：推荐一款适合我的饮品；第2轮用户输入：我喜欢美女；
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户暂无偏好信息
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：我喜欢美女

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/23 - 01:43:33 | 200 |  770.946578ms | 120.245.130.121 | POST     "/agent/chat"
[INFO] 用户[user123]无长期记忆
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（最近10轮，按时间从旧到新排序）：第1轮用户输入：推荐一款适合我的饮品；第2轮用户输入：我喜欢美女；第3轮用户输入：我喜欢吃饭；
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户暂无偏好信息
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：我喜欢吃饭

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/23 - 01:43:58 | 200 |  892.385731ms | 120.245.130.121 | POST     "/agent/chat"
[INFO] 用户[user123]无长期记忆
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（最近10轮，按时间从旧到新排序）：第1轮用户输入：推荐一款适合我的饮品；第2轮用户输入：我喜欢美女；第3轮用户输入：我喜欢吃饭；第4轮用户输入：我喜欢打篮球；
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户暂无偏好信息
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：我喜欢打篮球

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[INFO] 用户[user123]更新长期关键词：美女，吃饭，打篮球
长期记忆模块初始化完成
=== Go AI Agent开始服务启动 ===
=== Go AI Agent服务启动成功 ===
Web页面访问地址：http://localhost:8443
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（最近10轮，按时间从旧到新排序）：第1轮用户输入：我喜欢打篮球；
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户暂无偏好信息
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：我喜欢打篮球

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/23 - 01:48:50 | 200 |  773.586864ms | 120.245.130.121 | POST     "/agent/chat"
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（最近10轮，按时间从旧到新排序）：第1轮用户输入：我喜欢打篮球；第2轮用户输入：我喜欢打大美女；
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户偏好关键词：篮球
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：我喜欢打大美女

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/23 - 01:49:07 | 200 |  722.954261ms | 120.245.130.121 | POST     "/agent/chat"
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（最近10轮，按时间从旧到新排序）：第1轮用户输入：我喜欢打篮球；第2轮用户输入：我喜欢打大美女；第3轮用户输入：我喜欢大美女；
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户偏好关键词：篮球
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：我喜欢大美女

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/23 - 01:49:18 | 200 |  746.556493ms | 120.245.130.121 | POST     "/agent/chat"
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（最近10轮，按时间从旧到新排序）：第1轮用户输入：我喜欢打篮球；第2轮用户输入：我喜欢打大美女；第3轮用户输入：我喜欢大美女；第4轮用户输入：我喜欢电子游戏；
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户偏好关键词：篮球，大美女
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：我喜欢电子游戏

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/23 - 01:49:44 | 200 |   924.25892ms | 120.245.130.121 | POST     "/agent/chat"
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（最近10轮，按时间从旧到新排序）：第1轮用户输入：我喜欢电子游戏；
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户暂无偏好信息
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：我喜欢电子游戏

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/23 - 01:49:54 | 200 |  935.328037ms | 120.245.130.121 | POST     "/agent/chat"
[GIN] 2025/12/23 - 10:52:51 | 200 |    3.957599ms | 221.216.117.177 | GET      "/"
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（最近10轮，按时间从旧到新排序）：第1轮用户输入：我喜欢打篮球；第2轮用户输入：我喜欢打大美女；第3轮用户输入：我喜欢大美女；第4轮用户输入：我喜欢电子游戏；第5轮用户输入：一起搞黄色吧；
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户偏好关键词：篮球，大美女，电子游戏
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：一起搞黄色吧

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/23 - 10:53:09 | 200 |  947.667605ms | 221.216.117.177 | POST     "/agent/chat"
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（最近10轮，按时间从旧到新排序）：第1轮用户输入：我喜欢打篮球；第2轮用户输入：我喜欢打大美女；第3轮用户输入：我喜欢大美女；第4轮用户输入：我喜欢电子游戏；第5轮用户输入：一起搞黄色吧；第6轮用户输入：和我亲嘴；
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户偏好关键词：篮球，大美女，电子游戏
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：和我亲嘴

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/23 - 10:56:28 | 200 |  836.506009ms | 221.216.117.177 | POST     "/agent/chat"
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（最近10轮，按时间从旧到新排序）：第1轮用户输入：我喜欢打篮球；第2轮用户输入：我喜欢打大美女；第3轮用户输入：我喜欢大美女；第4轮用户输入：我喜欢电子游戏；第5轮用户输入：一起搞黄色吧；第6轮用户输入：和我亲嘴；第7轮用户输入：一起doi吧；
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户偏好关键词：篮球，大美女，电子游戏
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：一起doi吧

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/23 - 10:56:38 | 200 |  703.125705ms | 221.216.117.177 | POST     "/agent/chat"
[GIN] 2025/12/23 - 11:30:41 | 404 |       1.142µs |  111.206.214.13 | GET      "/favicon.ico"
[GIN] 2025/12/23 - 11:30:44 | 200 |     397.801µs |  111.206.214.13 | GET      "/"
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（最近10轮，按时间从旧到新排序）：第1轮用户输入：我喜欢打篮球；第2轮用户输入：我喜欢打大美女；第3轮用户输入：我喜欢大美女；第4轮用户输入：我喜欢电子游戏；第5轮用户输入：一起搞黄色吧；第6轮用户输入：和我亲嘴；第7轮用户输入：一起doi吧；第8轮用户输入：我喜欢什么；
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户偏好关键词：大美女，电子游戏，篮球
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：我喜欢什么

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/23 - 11:30:57 | 200 |  1.130517517s |  111.206.214.13 | POST     "/agent/chat"
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（最近10轮，按时间从旧到新排序）：第1轮用户输入：我喜欢电子游戏；第2轮用户输入：我喜欢电子游戏；
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户偏好关键词：电子游戏
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：我喜欢电子游戏

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/24 - 00:37:43 | 200 |  949.953693ms | 120.245.130.121 | POST     "/agent/chat"
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（最近10轮，按时间从旧到新排序）：第1轮用户输入：我喜欢电子游戏；第2轮用户输入：我喜欢电子游戏；第3轮用户输入：我喜欢电子游戏；
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户偏好关键词：电子游戏
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：我喜欢电子游戏

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/24 - 00:37:46 | 200 |  736.453365ms | 120.245.130.121 | POST     "/agent/chat"
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（最近10轮，按时间从旧到新排序）：第1轮用户输入：我喜欢电子游戏；第2轮用户输入：我喜欢电子游戏；第3轮用户输入：我喜欢电子游戏；第4轮用户输入：我喜欢jk少女；
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户偏好关键词：电子游戏
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：我喜欢jk少女

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/24 - 00:37:55 | 200 |  878.398666ms | 120.245.130.121 | POST     "/agent/chat"
长期记忆模块初始化完成
[GIN-debug] [WARNING] Creating an Engine instance with the Logger and Recovery middleware already attached.

[GIN-debug] [WARNING] Running in "debug" mode. Switch to "release" mode in production.
 - using env:	export GIN_MODE=release
 - using code:	gin.SetMode(gin.ReleaseMode)

[GIN-debug] GET    /                         --> main.main.func1 (4 handlers)
[GIN-debug] POST   /agent/chat               --> main.main.func2 (4 handlers)
[GIN-debug] POST   /agent/save-prefer        --> main.main.func3 (4 handlers)
=== Go AI Agent服务启动成功 ===
Web页面访问地址：http://localhost:8443
[GIN-debug] Listening and serving HTTPS on :8443
[GIN-debug] [WARNING] You trusted all proxies, this is NOT safe. We recommend you to set a value.
Please check https://github.com/gin-gonic/gin/blob/master/docs/doc.md#dont-trust-all-proxies for details.
[GIN] 2025/12/24 - 00:49:29 | 200 |    2.507383ms | 120.245.130.121 | GET      "/"
2025/12/24 00:49:40 http: TLS handshake error from [::1]:48380: remote error: tls: unknown certificate
2025/12/24 00:49:48 http: TLS handshake error from [::1]:46742: remote error: tls: unknown certificate
长期记忆模块初始化完成
[GIN-debug] [WARNING] Creating an Engine instance with the Logger and Recovery middleware already attached.

[GIN-debug] [WARNING] Running in "debug" mode. Switch to "release" mode in production.
 - using env:	export GIN_MODE=release
 - using code:	gin.SetMode(gin.ReleaseMode)

[GIN-debug] GET    /                         --> main.main.func1 (4 handlers)
[GIN-debug] POST   /agent/chat               --> main.main.func2 (4 handlers)
[GIN-debug] POST   /agent/save-prefer        --> main.main.func3 (4 handlers)
=== Go AI Agent服务启动成功 ===
Web页面访问地址：http://localhost:8443
[GIN-debug] Listening and serving HTTPS on :8443
[GIN-debug] [WARNING] You trusted all proxies, this is NOT safe. We recommend you to set a value.
Please check https://github.com/gin-gonic/gin/blob/master/docs/doc.md#dont-trust-all-proxies for details.
[GIN] 2025/12/24 - 00:51:51 | 200 |    2.680181ms | 120.245.130.121 | GET      "/"
[GIN] 2025/12/24 - 00:55:06 | 200 |     229.639µs | 120.245.130.121 | GET      "/"
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（最近10轮，按时间从旧到新排序）：无历史对话
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户偏好关键词：篮球，大美女，电子游戏
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：推荐一款适合我的饮品

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[警告] 生成语音失败：TTS接口未返回音频数据
[GIN] 2025/12/24 - 00:55:14 | 200 |  5.807261325s | 120.245.130.121 | POST     "/agent/chat"
长期记忆模块初始化完成
[GIN-debug] [WARNING] Creating an Engine instance with the Logger and Recovery middleware already attached.

[GIN-debug] [WARNING] Running in "debug" mode. Switch to "release" mode in production.
 - using env:	export GIN_MODE=release
 - using code:	gin.SetMode(gin.ReleaseMode)

[GIN-debug] GET    /                         --> main.main.func1 (4 handlers)
[GIN-debug] POST   /agent/chat               --> main.main.func2 (4 handlers)
[GIN-debug] POST   /agent/save-prefer        --> main.main.func3 (4 handlers)
=== Go AI Agent服务启动成功 ===
Web页面访问地址：http://localhost:8443
[GIN-debug] Listening and serving HTTPS on :8443
[GIN-debug] [WARNING] You trusted all proxies, this is NOT safe. We recommend you to set a value.
Please check https://github.com/gin-gonic/gin/blob/master/docs/doc.md#dont-trust-all-proxies for details.
长期记忆模块初始化完成
[GIN-debug] [WARNING] Creating an Engine instance with the Logger and Recovery middleware already attached.

[GIN-debug] [WARNING] Running in "debug" mode. Switch to "release" mode in production.
 - using env:	export GIN_MODE=release
 - using code:	gin.SetMode(gin.ReleaseMode)

[GIN-debug] GET    /                         --> main.main.func1 (4 handlers)
[GIN-debug] POST   /agent/chat               --> main.main.func2 (4 handlers)
[GIN-debug] POST   /agent/save-prefer        --> main.main.func3 (4 handlers)
=== Go AI Agent服务启动成功 ===
Web页面访问地址：http://localhost:8443
[GIN-debug] Listening and serving HTTPS on :8443
[GIN-debug] [WARNING] You trusted all proxies, this is NOT safe. We recommend you to set a value.
Please check https://github.com/gin-gonic/gin/blob/master/docs/doc.md#dont-trust-all-proxies for details.
[GIN] 2025/12/24 - 01:02:02 | 200 |      4.4202ms | 120.245.130.121 | GET      "/"
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（最近10轮，按时间从旧到新排序）：无历史对话
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户偏好关键词：篮球，大美女，电子游戏
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：你好

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/24 - 01:02:12 | 200 |  2.891143607s | 120.245.130.121 | POST     "/agent/chat"
[GIN] 2025/12/24 - 01:02:13 | 404 |       1.453µs | 120.245.130.121 | GET      "/favicon.ico"
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（最近10轮，按时间从旧到新排序）：第1轮用户输入：你好；
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户偏好关键词：篮球，大美女，电子游戏
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：我喜欢大长腿

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/24 - 01:02:42 | 200 |  3.912725629s | 120.245.130.121 | POST     "/agent/chat"
[GIN] 2025/12/24 - 01:08:55 | 200 |     444.618µs | 120.245.130.121 | GET      "/"
prompt: 
你是一个生活化、有同理心的AI助手，核心目标是基于用户的全量对话信息和长期偏好，生成有温度、个性化的回复。
【参考信息】
1. 历史会话上下文（最近10轮，按时间从旧到新排序）：第1轮用户输入：你好；第2轮用户输入：我喜欢大长腿；
   - 规则：优先参考近3轮对话内容，确保回复承接上下文，不偏离用户对话逻辑
2. 用户的长期偏好/记忆（核心标签+偏好程度）：用户偏好关键词：篮球，大美女，电子游戏
   - 规则：仅作为个性化补充，不强行关联，避免偏离当前提问核心
3. 用户当前的提问/输入（含语气倾向）：我喜欢电子游戏

【回复核心要求】
1. 语气风格：亲切自然，贴合用户当前输入的语气（用户轻松则活泼，用户提问则耐心，用户倾诉则共情）；
2. 内容要求：优先精准回应当前提问，再自然融入匹配的长期偏好（如用户喜欢钓鱼则可轻提相关）；
3. 表达规范：避免生硬机器感、套话和模板化回复，用词生活化；
4. 字数控制：整体回复控制在80-120字，逻辑清晰、语句通顺，无冗余信息；
5. 避坑点：不编造未提及的偏好，不忽视历史对话中的关键信息，不使用专业术语。

[GIN] 2025/12/24 - 01:09:23 | 200 |  4.286507993s | 120.245.130.121 | POST     "/agent/chat"
[GIN] 2025/12/24 - 01:09:24 | 404 |       2.204µs | 120.245.130.121 | GET      "/favicon.ico"
